(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{207:function(e,t,n){n(208),e.exports=n(323)},208:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/Mirror/expo-service-worker.js",{scope:"/Mirror/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},323:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Edit",(function(){return Ge})),n.d(r,"Indicator",(function(){return Ue}));var a={};n.r(a),n.d(a,"Edit",(function(){return et})),n.d(a,"Indicator",(function(){return tt}));var o={};n.r(o),n.d(o,"Edit",(function(){return it})),n.d(o,"Indicator",(function(){return mt}));var c=n(384),l=n(0),i=n.n(l),u=n(13),s=n.n(u),d=n(36),m=n(62),f=n(17),p=n(366),b=n(383),g=n(367),E=n(368),h=n(70),y=n.n(h),v=n(184),O=n(391),w=function(e){var t=e.map,n=e.children,r=l.useState(null),a=s()(r,2),o=a[0],c=a[1],i=function(){return c(null)};return l.createElement(l.Fragment,null,l.createElement(v.a,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:i},Object.entries(t).map((function(e){var t=s()(e,2),n=t[0],r=t[1];return l.createElement(O.a,{key:n,onClick:function(){i(),r()}},n)}))),l.cloneElement(n,{onClick:function(e){return c(e.currentTarget)}}))},C=function(e){var t=e.show,n=e.children;return l.createElement("div",{hidden:!t,style:{height:"calc(100% - 48px)"}},t&&n)},j=function(e){var t=e.tabs,n=e.render,r=e.children,a=e.index,o=e.setIndex,c=e.addTab,i=e.renameTab,u=e.deleteTab,s=e.moveTab,m=function(e,n){return n>=0&&n<t.length&&o(n)};return l.createElement("div",{style:{flex:1}},l.createElement(p.a,{position:"static",style:{backgroundColor:"white",zIndex:2,position:"relative"}},l.createElement(b.a,{value:a,onChange:m,indicatorColor:"primary",textColor:"primary"},t.map((function(e){return l.createElement(g.a,{label:e,key:e})})),l.createElement(d.a,{style:{flexGrow:1}}),l.createElement(w,{map:{"Add tab":function(){return c()},"Rename tab":function(){return i(a)},"Delete tab":function(){return u(a)},"Move tab left":function(){return s([a,a-1]),m(0,a-1)},"Move tab right":function(){return s([a,a+1]),m(0,a+1)}}},l.createElement(E.a,null,l.createElement(y.a,null))),r)),t.map((function(e,t){return l.createElement(C,{show:a===t,key:e},a===t&&n(t))})))},D=n(22),x=n.n(D),k=n(369),P=n(326),S=(Object(k.a)((function(e){return{button:{}}})),n(374)),I=n(171),T=n.n(I),M=n(172),N=n.n(M),A=n(107),R=n.n(A),F=n(16),L=n.n(F),_=n(370),B=n(183);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var z,H=function(){return Math.random().toString().substring(2)},K=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tabs:[{name:"Main",id:H()},{name:"Secondary",id:H()}]},function(e,t){for(var n=e.reduce((function(e,t){return e+t}),0),r=[],a=["Wash the dishes","Make cool app","Run out of ideas for sample tasks for the app you're making","Cook pizza for dinner","Finish your chemistry homework","Write a tutorial explaining how monads are isomorphic to burritos in the category of food","Forget to wrap a line at 300 characters","Learn Common Lisp","Do normal human things","Prove P=NP for N=1","Eat some chocolate","Stop eating so much chocolate","Write witty comment","\ud83d\ude42"],o=0;o<n;o++){var c=(o+1).toString()+"-"+H();r.push({id:c,content:a[Math.floor(Math.random()*a.length)]})}for(var l=[],i=0,u=0;i<e.length;i++){var s=r.slice(u,u+e[i]).map((function(e){return e.id})),d=(i+1).toString()+"-"+H();l.push({id:d,items:s,name:t[i]}),u+=e[i]}return{cards:r,columns:l}}([9,2,6,5,4],["To Do","Doing","Done","Misc 1","Misc 2"])),t=e.columns.map((function(e){return e.id}));return e.tabs[0].columns=[t[0],t[1],t[2]],e.tabs[1].columns=[t[3],t[4]],e},J=function(e){var t=new Date(e),n=new Date,r=function(e){return 0===e.getHours()&&0===e.getMinutes()?null:0===e.getMinutes()?B.a(e,"haaa"):B.a(e,"h:mmaaa")}(t);return function(e){var t=_.a(e,n);return 0===t?"Today":-1===t?"Yesterday":1===t?"Tomorrow":t>0&&t<7?B.a(e,"EEE"):t>-7&&t<0?"Last "+B.a(e,"EEE"):B.a(e,"MMM do")}(t)+(r?" "+r:"")},G=n(126),U=n.n(G),V=n(389),Y=n(378),X=n(375),q=n(379),$=n(376),Q=n(388),Z=n(392),ee=n(386),te=n(380),ne=n(21),re=n(61),ae=n.n(re);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=Object(ne.b)("kanban/TRANSFER_CARD"),ie=Object(ne.b)("kanban/REORDER_CARD"),ue=Object(ne.b)("kanban/ADD_CARD"),se=Object(ne.b)("kanban/EDIT_CARD_CONTENT"),de=Object(ne.b)("kanban/EDIT_CARD"),me=Object(ne.b)("kanban/DELETE_CARD"),fe=Object(ne.b)("kanban/ADD_COLUMN"),pe=Object(ne.b)("kanban/DELETE_COLUMN"),be=Object(ne.b)("kanban/RENAME_COLUMN"),ge=Object(ne.b)("kanban/MOVE_COLUMN"),Ee=Object(ne.b)("kanban/ARCHIVE_ALL_COLUMN"),he=Object(ne.b)("kanban/ADD_TAB"),ye=Object(ne.b)("kanban/DELETE_TAB"),ve=Object(ne.b)("kanban/RENAME_TAB"),Oe=Object(ne.b)("kanban/MOVE_TAB"),we=function(e,t){return e.map((function(e){return e.id===t})).indexOf(!0)},Ce=function(e,t){return e.splice(we(e,t),1)},je=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},De={getColumnsInTabs:function(e){return e.tabs.map((function(t,n){return e.tabs[n].columns.map((function(t){return e.columns[we(e.columns,t)]})).map((function(t){return ce(ce({},t),{},{items:t.items.map((function(t){return e.cards[we(e.cards,t)]}))})}))}))},columns:function(e){return e.columns},tabs:function(e){return e.tabs},cards:function(e){return e.cards},archivedCards:function(e){return e.cards.filter((function(e){return-1!==Object.keys(e).indexOf("archived")}))},activeCards:function(e){return e.cards.filter((function(e){return-1===Object.keys(e).indexOf("archived")}))}},xe=function(){try{if(!localStorage.hasOwnProperty("kanban"))return K();var e=JSON.parse(localStorage.getItem("kanban"));if(null!==e)return e}catch(t){return K()}}(),ke=function(e,t){var n=we(e.columns,t);e.columns[n].items.forEach((function(t){return Ce(e.cards,t)})),e.tabs.forEach((function(e){return je(e.columns,t)})),Ce(e.columns,t)},Pe=Object(ne.c)(xe,(z={},L()(z,le,(function(e,t){var n=we(e.columns,t.payload.srcColID),r=we(e.columns,t.payload.dstColID),a=e.columns[n].items,o=e.columns[r].items,c=a.splice(t.payload.srcIndex,1),l=s()(c,1)[0];o.splice(t.payload.dstIndex,0,l)})),L()(z,ie,(function(e,t){var n=we(e.columns,t.payload.colID),r=e.columns[n].items,a=r.splice(t.payload.srcIndex,1),o=s()(a,1)[0];r.splice(t.payload.dstIndex,0,o),e.columns[n].items=r})),L()(z,ue,(function(e,t){var n=t.payload,r=n.content,a=(n.colID,we(e.columns,t.payload.colID)),o=H();e.cards.push({id:o,content:r}),e.columns[a].items.unshift(o)})),L()(z,pe,(function(e,t){ke(e,t.payload)})),L()(z,be,(function(e,t){e.columns[we(e.columns,t.payload.colID)].name=t.payload.name})),L()(z,se,(function(e,t){e.cards[we(e.cards,t.payload.cardID)].content=t.payload.content})),L()(z,me,(function(e,t){we(e.cards,t.payload);e.columns.forEach((function(e){return je(e.items,t.payload)})),Ce(e.cards,t.payload)})),L()(z,fe,(function(e,t){var n=H();e.columns.push({id:n,items:[],name:t.payload.name}),e.tabs[we(e.tabs,t.payload.tabID)].columns.push(n)})),L()(z,de,(function(e,t){e.cards[we(e.cards,t.payload.card.id)]=t.payload.card;var n=e.columns.map((function(e){return-1!==e.items.indexOf(t.payload.card.id)})).indexOf(!0),r=we(e.columns,t.payload.colID);n!==r&&(je(e.columns[n].items,t.payload.card.id),e.columns[r].items.unshift(t.payload.card.id))})),L()(z,ye,(function(e,t){for(;e.tabs[t.payload].columns.length;)ke(e,e.tabs[t.payload].columns[0]);e.tabs.splice(t.payload,1)})),L()(z,he,(function(e,t){e.tabs.push({name:t.payload,id:H(),columns:[]})})),L()(z,ve,(function(e,t){e.tabs[we(e.tabs,t.payload.tabID)].name=t.payload.name})),L()(z,ge,(function(e,t){var n=s()(t.payload,3),r=n[0],a=n[1],o=n[2],c=e.tabs[o].columns,l=c.splice(r,1),i=s()(l,1)[0];c.splice(a,0,i),e.tabs[o].columns=c})),L()(z,Oe,(function(e,t){var n=s()(t.payload,2),r=n[0],a=n[1];if(!(a<0||a>=e.tabs.length)){var o=e.tabs,c=o.splice(r,1),l=s()(c,1)[0];o.splice(a,0,l),e.tabs=o}})),L()(z,Ee,(function(e,t){var n=we(e.columns,t.payload);e.columns[n].items.forEach((function(n){e.cards[we(e.cards,n)].archived={date:(new Date).getTime(),colID:t.payload}})),e.columns[n].items=[]})),z)),Se=ae()(Pe,{limit:50}),Ie=n(19),Te=Object(Ie.c)({boards:Se}),Me=Object(ne.a)({reducer:Te});try{document.addEventListener("keyup",(function(e){e.ctrlKey&&90===e.which?Me.dispatch(re.ActionCreators.undo()):(e.ctrlKey&&e.shiftKey&&90===e.which||e.ctrlKey&&89===e.which)&&Me.dispatch(re.ActionCreators.redo())}))}catch(Kt){}var Ne=function(){return function(e){try{if(localStorage){var t=JSON.stringify(e);localStorage.setItem("kanban",t)}}catch(Kt){}}(Me.getState().boards.present)};Me.subscribe(Ne),Ne();var Ae,Re,Fe=Me,Le=function(e){return e.boards.present},_e={boards:(Ae=De,Re=function(e){return function(t){return e(Le(t))}},Object.keys(Ae).reduce((function(e,t){return e[t]=Re(Ae[t]),e}),{}))},Be=n(394),We=n(105),ze=n.n(We),He=n(371);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e){var t=e.card,n=e.setCard,r=l.useState(!1),a=s()(r,2),o=a[0],c=a[1];return o||"string"===typeof t.description?o?l.createElement(l.Fragment,null,l.createElement(Z.a,{className:"custom-label"},"Description"),l.createElement(He.a,{onClickAway:function(){return c(!1)}},l.createElement(Q.a,{margin:"dense",autoFocus:!0,fullWidth:!0,variant:"outlined",multiline:!0,rows:6,rowsMax:16,value:t.description,onChange:function(e){return r=e.target.value,n(Je(Je({},t),{},{description:r.length?r:void 0}));var r}}))):l.createElement("div",{onClick:function(){return c(!0)},style:{marginTop:8}},l.createElement(Z.a,{className:"custom-label"},"Description"),l.createElement(ze.a,{source:t.description})):l.createElement(bt,{onClick:function(){return c(!0)}},"Add description")},Ue=function(e){var t=e.card;if(t.description){var n=t.description.split("\n\n").join("\n").substring(0,500);return t.description.length,l.createElement(pt,{label:null,title:n,icon:l.createElement(R.a,null)})}return null},Ve=n(169),Ye=n.n(Ve),Xe=n(20),qe=n(382),$e=n(182);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=function(e){var t=e.card,n=e.setCard,r=function(e){return n(Ze(Ze({},t),{},{time:e}))};return t.time?l.createElement("div",{style:{marginTop:10}},l.createElement(Z.a,{className:"custom-label"},"Date & time"),l.createElement(Xe.a,{utils:$e.a},l.createElement(qe.a,{value:new Date(t.time),onChange:function(e){return r(e.getTime())},showTodayButton:!0,format:"MMMM do hh:mm aaa"})),l.createElement(P.a,{color:"primary",variant:"outlined",style:{float:"right",marginTop:12},onClick:function(){return r(null)}},"Reset date")):l.createElement(bt,{onClick:function(){return r((new Date).getTime())}},"Add date & time")},tt=function(e){var t=e.card;return t.time?l.createElement(pt,{icon:l.createElement(Ye.a,null),label:J(t.time),title:Object(B.a)(new Date(t.time),"dd/MM/yyyy hh:mmaaa")}):null},nt=n(377),rt=n(387),at=n(170),ot=n.n(at);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e){var t=e.card,n=e.setCard,r=function(e){return n(lt(lt({},t),{},{ebs:lt(lt({},t.ebs),e)}))},a=l.useState(t.ebs?st(t.ebs.estimate):""),o=s()(a,2),c=o[0],i=o[1],u=l.useState(t.ebs?st(t.ebs.elapsed):""),d=s()(u,2),m=d[0],p=d[1],b=Object(f.d)((function(e){return Le(e).cards.filter((function(e){return e.hasOwnProperty("ebs")&&null!==e.ebs})).filter((function(e){return e.ebs.elapsed&&e.ebs.estimate})).map((function(e){return e.ebs}))})),g=function(e){i(e);var t=dt(e);"number"===typeof t&&r({estimate:t,computed:ut(t,b)})};if(!t.ebs)return l.createElement(bt,{onClick:function(){return g("1h")}},"Add time estimate");var E=function(e){return""!==e&&null!==e&&null===dt(e)};return l.createElement("div",{style:{marginTop:10}},l.createElement(Z.a,{className:"custom-label"},"Time estimate"),l.createElement("div",{style:{width:"30%",float:"left",marginRight:16}},l.createElement(Q.a,{label:"Estimate (predicted "+st(ut(dt(c)||0,b))+")",margin:"dense",fullWidth:!0,value:c,error:E(c),helperText:E(c)?"Example format: 1h30m":null,onChange:function(e){return g(e.target.value)}})),l.createElement("div",{style:{width:"30%",float:"left",marginRight:16}},l.createElement(Q.a,{label:"Elapsed",margin:"dense",fullWidth:!0,value:m,error:E(m),helperText:E(m)?"Example format: 1h30m":null,onChange:function(e){return function(e){p(e);var t=dt(e);"number"===typeof t&&r({elapsed:t})}(e.target.value)}})),l.createElement("div",{style:{marginTop:12,float:"left"}},l.createElement(nt.a,{label:"Exact duration",control:l.createElement(rt.a,{color:"primary",checked:Boolean(t.ebs.exact),onChange:function(e){return r({exact:e.target.checked})}})})),l.createElement("div",{style:{flexGrow:1}}),l.createElement(P.a,{color:"primary",variant:"outlined",size:"medium",style:{float:"right",marginTop:12},onClick:function(){return i(""),p(""),n(lt(lt({},t),{},{ebs:null}))}},"Reset estimate"))},ut=function(e,t){if("number"!==typeof e)return e;var n=t.reduce((function(e,n){return e+n.elapsed/n.estimate/t.length}),0);n||(n=1),t.length<10&&(n=(n+1)/2);for(var r=e*n,a=0,o=[3600,900,300];a<o.length;a++){var c=o[a];if(e%c===0&&Math.abs(r-e)>c/2)return c*Math.round(r/c)}return 60*Math.round(r/60)},st=function(e){if("string"===typeof e)return e;var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return 0===t&&0===n?"0":(t?t+"h":"")+(n?n+"m":"")},dt=function(e){if("0"===e)return 0;var t=/^(\d+h|\d*\.\d+h)?(\d+m|\d*\.\d+m)?$/m.exec(e);if(!t||3!==t.length||!t.slice(1).filter((function(e){return e})).length)return null;var n=function(e){return parseFloat(e.substring(0,e.length-1))};return 3600*n((t=t.slice(1))[0]||"00")+60*n(t[1]||"00")},mt=function(e){var t=e.card;if(t.ebs){var n=(t.ebs.elapsed?st(t.ebs.elapsed)+"/":"")+st(t.ebs.exact?t.ebs.estimate:t.ebs.computed),r=t.ebs.elapsed?"Elapsed: "+st(t.ebs.elapsed):"",a=t.ebs.exact?"Duration: "+st(t.ebs.estimate)+"\n"+r:"Estimate: "+st(t.ebs.estimate)+"\nComputed: "+st(t.ebs.computed)+"\n"+r,o=l.createElement(ot.a,null);return l.createElement(pt,{label:n,title:a,icon:o})}return null},ft=Object(k.a)({label:{padding:3},header:{marginBottom:6,marginTop:6}}),pt=function(e){var t=e.icon,n=e.label,r=e.title;return l.createElement(Be.a,{size:"small",icon:t,label:n,title:r,classes:n&&n.length?null:{label:ft().label},style:{borderRadius:3,background:"white",marginRight:2},variant:"outlined"})},bt=function(e){return l.createElement("div",{className:ft().header},l.createElement(P.a,x()({variant:"outlined",color:"primary",size:"small"},e)))};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){var t=e.open,n=e.respond,r=e.title,a=e.subtitle,o=e.labels,c=void 0===o?["Cancel","OK"]:o;return l.createElement(V.a,{open:t,onClose:function(){return n(null)}},l.createElement(Y.a,null,r),l.createElement(X.a,null,l.createElement(q.a,null,a)),l.createElement($.a,null,l.createElement(P.a,{onClick:function(){return n(!1)},color:"primary"},c[0]),l.createElement(P.a,{onClick:function(){return n(!0)},color:"primary",variant:"contained",autoFocus:!0},c[1])))},yt=function(e){var t=e.open,n=e.respond,r=e.title,a=e.subtitle,o=e.labels,c=void 0===o?["Cancel","OK"]:o,i=e.label,u=e.inputType,d=void 0===u?"text":u,m=e.placeholder,f=void 0===m?"":m,p=e.buttons,b=void 0===p?null:p,g=l.useState(f),E=s()(g,2),h=E[0],y=E[1],v=function(e){n(e),y(f)};return l.createElement(V.a,{open:t,onClose:function(){return v(null)}},l.createElement(Y.a,null,r),l.createElement(X.a,null,"string"===typeof a&&l.createElement(q.a,null,a),l.createElement(Q.a,{autoFocus:!0,margin:"dense",fullWidth:!0,label:i,type:d,value:h,onChange:function(e){return y(e.target.value)}})),l.createElement($.a,null,b,l.createElement(P.a,{onClick:function(){return v(!1)},color:"primary"},c[0]),l.createElement(P.a,{onClick:function(){return v(h)},color:"primary",variant:"contained"},c[1])))},vt=function(e){var t=e.respond,n=e.card;l.useEffect((function(){return JSON.stringify(E)!==JSON.stringify(n)&&(window.onbeforeunload=function(e){return"Are you sure you want to quit?"}),function(){return window.onbeforeunload=null}}));var c=Object(f.c)(),i=Object(f.d)((function(e){return Le(e).columns.filter((function(e){return-1!==e.items.indexOf(n.id)}))[0].id})),u=l.useState(i),d=s()(u,2),m=d[0],p=d[1],b=l.useState(n),g=s()(b,2),E=g[0],h=g[1],y=function(e){return h(Et(Et({},E),{},{content:e}))},v=U()(Object(f.d)(_e.boards.columns)),w=Object(f.d)(_e.boards.tabs),C=function(){return t(),y(n.content)};return l.createElement(V.a,{open:!0,onClose:function(){return C()},fullWidth:!0,maxWidth:"md",disableBackdropClick:JSON.stringify(E)!==JSON.stringify(n)},l.createElement(Y.a,null,"Edit card"),l.createElement(X.a,null,l.createElement(Z.a,{id:"kanban/card-column",className:"custom-label"},"Column"),l.createElement(ee.a,{labelId:"kanban/card-column",value:m,onChange:function(e){return p(e.target.value)}},w.flatMap((function(e){return[l.createElement(te.a,{key:e.id},e.name)].concat(U()(e.columns.map((function(e){var t=v[function(e){return v.map((function(t){return t.id===e})).indexOf(!0)}(e)];return l.createElement(O.a,{value:e,key:e},t.name)}))))}))),l.createElement(Z.a,{id:"kanban/card-title",className:"custom-label"},"Title"),l.createElement(Q.a,{margin:"dense",autoFocus:!0,fullWidth:!0,multiline:!0,rowsMax:3,value:E.content,onChange:function(e){return y(e.target.value)}}),l.createElement(r.Edit,{card:E,setCard:h}),l.createElement(a.Edit,{card:E,setCard:h}),l.createElement(o.Edit,{card:E,setCard:h})),l.createElement($.a,null,l.createElement(P.a,{onClick:function(){return c(de({card:E,colID:m})),c(me(n.id)),C()}},"Delete"),l.createElement(P.a,{onClick:C,color:"primary"},"Cancel"),l.createElement(P.a,{onClick:function(){return c(de({card:E,colID:m})),C()},color:"primary",variant:"contained"},"OK")))},Ot=function(e){var t=e.open,n=e.respond;return l.createElement(V.a,{open:t,onClose:n,fullWidth:!0},l.createElement(Y.a,null,"About Mirror"),l.createElement(X.a,null,l.createElement(q.a,null,"A free and open source personal task management and note taking app.",l.createElement("br",null),"Made by Oliver Balfour. \xa9 2020.",l.createElement("br",null),"App icon is ",l.createElement("a",{href:"https://thenounproject.com/term/mirror/340140/"},"Mirror"),"\xa0 by Lastspark from ",l.createElement("a",{href:"http://thenounproject.com/"},"The Noun Project"),".")),l.createElement($.a,null,l.createElement(P.a,{onClick:n,color:"primary",variant:"contained",autoFocus:!0},"OK")))},wt=function(e){var t=e.active,n=e.setActive,r=i.a.useState(!1),a=s()(r,2),o=a[0],c=a[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{color:"primary",style:{top:"auto",bottom:0}},i.a.createElement(S.a,{style:{minHeight:0}},i.a.createElement(E.a,{edge:"start",color:"inherit",onClick:function(){return console.log("open menu")}},i.a.createElement(T.a,null)),i.a.createElement(b.a,{value:t,onChange:function(e,t){return n(t)},TabIndicatorProps:{style:{backgroundColor:"white"}}},i.a.createElement(g.a,{label:i.a.createElement("div",null,i.a.createElement(N.a,{style:{verticalAlign:"middle"}})," Board")}),i.a.createElement(g.a,{label:i.a.createElement("div",null,i.a.createElement(R.a,{style:{verticalAlign:"middle"}})," Notes")})),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(w,{map:{"Submit feedback":function(){return window.open("mailto:oliver.leo.balfour+mirrorsupport@googlemail.com","_blank")},About:function(){return c(!0)},"Clear saved state":function(){return"YES"===window.prompt("Delete all saved state? Pressing undo will fix this. Type YES to confirm","NO")&&localStorage.clear()},"Import state":function(){localStorage.kanban=window.prompt("Paste your exported state here. Press cancel (or the undo button after pressing OK) to revert. Refresh the page to confirm and reload state.")},"Export state":function(){return function(e,t,n){n||(n="application/octet-stream");var r=document.createElement("a"),a=new Blob([e],{type:n});r.href=window.URL.createObjectURL(a),r.download=t,r.click()}(localStorage.kanban,"mirror-backup.json","application/json")}}},i.a.createElement(E.a,{edge:"end",color:"inherit"},i.a.createElement(y.a,null))))),i.a.createElement(Ot,{open:o,respond:function(){return c(!1)}}))},Ct=n(173),jt=n.n(Ct),Dt=n(174),xt=n.n(Dt),kt=function(){var e=Object(f.c)();return l.createElement(l.Fragment,null,l.createElement(E.a,{onClick:function(){return e(re.ActionCreators.undo())}},l.createElement(jt.a,null)),l.createElement(E.a,{onClick:function(){return e(re.ActionCreators.redo())}},l.createElement(xt.a,null)))},Pt=n(381),St=n(127),It=n.n(St),Tt=n(175),Mt=n.n(Tt),Nt=n(67),At=Object(k.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:8,fontSize:"14px","& *":{flexShrink:0}},column:{background:"#DFEEEE",padding:8,paddingBottom:24,width:300,border:"1px solid #CCDCDC",borderRadius:5,margin:8,transition:"border 0.2s",height:"calc(100vh - 160px)",overflow:"hidden"},addColumnContainer:{width:340},addColumn:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",background:"#DFEEEE",padding:8,paddingBottom:24,width:300,border:"1px solid #CCDCDC",borderRadius:5,margin:8},columnHeaderContainer:{padding:"8 0",display:"flex",justifyContent:"space-between"},columnHeaderText:{paddingLeft:8,paddingBottom:0,fontSize:"1.4em"},columnHeaderRule:{overflow:"hidden",border:"none",color:"#CCDCDC",backgroundColor:"#CCDCDC",height:"1px",width:317,marginLeft:-9},card:{userSelect:"none",padding:"10px 13px",margin:"0 0 8px 0",background:"white",borderRadius:5,transition:"opacity 0.3s",overflow:"hidden","&:hover, &:focus":{boxShadow:"0 1px 3px rgba(100, 100, 100, 0.3)"},"&>p":{margin:0}},draggingCard:{opacity:.7,boxShadow:"0 1px 3px rgba(100, 100, 100, 0.3)"},columnContainer:{transition:"opacity 0.6s"},draggingColumn:{opacity:.7}}})),Rt=function(e){var t=e.tabInfo,n=t.index,r=t.tab,a=Object(f.c)(),o=At(),c=Object(f.d)(_e.boards.getColumnsInTabs)[n],i=l.useState(!1),u=s()(i,2),m=u[0],p=u[1];return l.createElement(d.a,{style:{width:"100vw",overflowX:"auto",height:"100%"}},l.createElement(Nt.a,{onDragEnd:function(e){e.destination&&("card"===e.type?a(function(e){var t=s()(e,4),n=t[0],r=t[1],a=t[2],o=t[3];return n===r?ie({colID:n,srcIndex:a,dstIndex:o}):le({srcColID:n,dstColID:r,srcIndex:a,dstIndex:o})}([e.source.droppableId,e.destination.droppableId,e.source.index,e.destination.index])):"column"===e.type&&a(ge([e.source.index,e.destination.index,n])))}},l.createElement(Nt.c,{droppableId:"default",style:{flexGrow:1,height:"100%"},direction:"horizontal",type:"column"},(function(e,t){return l.createElement(l.Fragment,null,l.createElement("div",{className:o.root,ref:e.innerRef},c.map((function(e,t){return l.createElement(Ft,{col:e,styles:o,key:e.id,index:t})})),l.createElement(Wt,{styles:o,add:function(){return p(!0)},hide:t.isDraggingOver||t.draggingFromThisWith})),e.placeholder)}))),m&&l.createElement(yt,{open:!0,respond:function(e){return p(!1)||"string"===typeof e&&e.length&&a(fe({tabID:r.id,name:e}))},title:"Add column",label:"Name"}))},Ft=function(e){var t=e.styles,n=e.col,r=e.index,a=n.id,o=n.items,c=(n.name,l.useState(!1)),i=s()(c,2),u=i[0],d=i[1],m=l.useState(""),p=s()(m,2),b=p[0],g=p[1],E=Object(f.c)(),h=function(){b.length&&E(ue({content:b,colID:a})),g(""),d(!1)},y=function(){u&&g(""),d(!u)},v=function(){console.log("pressed menu button")},O=l.createElement(Nt.c,{droppableId:a,style:{flexGrow:1,height:"100%"},type:"card",ignoreContainerClipping:!0},(function(e,n){return l.createElement(l.Fragment,null,l.createElement("div",{style:{width:300,overflowY:"auto",overflowX:"hidden",height:n.isDraggingOver?"calc(100% - 120px)":"calc(100% - 20px)",paddingBottom:n.isDraggingOver?100:0},ref:e.innerRef},u&&l.createElement(Lt,{value:b,setValue:g,add:h,cancel:function(){g(""),d(!1)}}),o.map((function(e,n){return l.createElement(Bt,{card:e,styles:t,index:n,key:e.id})}))),e.placeholder)}));return l.createElement(Nt.b,{draggableId:a,index:r},(function(e,r){return l.createElement("div",x()({ref:e.innerRef},e.draggableProps,{className:t.columnContainer+(r.isDragging?" "+t.draggingColumn:""),style:e.draggableProps.style}),l.createElement("div",{className:t.column},l.createElement("div",e.dragHandleProps,l.createElement(_t,{styles:t,col:n,add:y,menu:v})),O))}))},Lt=function(e){var t=e.value,n=e.setValue,r=e.add,a=e.cancel;return l.createElement("div",null,l.createElement(Q.a,{label:"New Card",multiline:!0,rowsMax:6,value:t,onChange:function(e){return n(e.target.value)},variant:"filled",style:{width:"100%"}}),l.createElement(Pt.a,{variant:"contained",size:"small",style:{marginBottom:8,boxShadow:"0px 4px 2px -2px rgba(0,0,0,0.15)",width:"100%"}},l.createElement(P.a,{style:{flexGrow:1},variant:"contained",onClick:r},"Done"),l.createElement(P.a,{onClick:a},l.createElement(Mt.a,{style:{color:"#555"}}))))},_t=function(e){var t=e.styles,n=e.col,r=e.add,a=(e.menu,Object(f.c)()),o=l.useState(!1),c=s()(o,2),i=c[0],u=c[1],d=l.useState(!1),m=s()(d,2),p=m[0],b=m[1];return l.createElement("div",null,l.createElement("div",{className:t.columnHeaderContainer},l.createElement("div",{className:t.columnHeaderText},n.name),l.createElement("div",null,l.createElement(Be.a,{size:"small",label:"0/6"}),l.createElement(Be.a,{size:"small",label:"3h"}),l.createElement(E.a,{size:"small",onClick:function(){return r()}},l.createElement(It.a,null)),l.createElement(w,{map:{"Archive all":function(){return a(Ee(n.id))},Rename:function(){return b(!0)},Delete:function(){return u(!0)}}},l.createElement(E.a,{size:"small"},l.createElement(y.a,null))))),l.createElement("hr",{className:t.columnHeaderRule}),i&&l.createElement(ht,{open:!0,respond:function(e){return u(!1)||e&&a(pe(n.id))},title:"Delete this column?",subtitle:"Don't worry, this action can be undone."}),p&&l.createElement(yt,{open:!0,respond:function(e){return b(!1)||"string"===typeof e&&e.length&&a(be({colID:n.id,name:e}))},title:'Rename column "'+n.name+'"',subtitle:"Don't worry, this action can be undone.",label:"Name",placeholder:n.name}))},Bt=function(e){var t=e.card,n=e.styles,c=e.index,i=t.id,u=t.content,d=(Object(f.c)(),l.useState(!1)),m=s()(d,2),p=m[0],b=m[1];return l.createElement(l.Fragment,null,l.createElement(Nt.b,{draggableId:i,index:c},(function(e,c){return l.createElement("div",x()({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:n.card+(c.isDragging?" "+n.draggingCard:""),style:e.draggableProps.style,onClick:function(){return b(!0)}}),l.createElement(ze.a,{source:u}),l.createElement(r.Indicator,{card:t}),l.createElement(a.Indicator,{card:t}),l.createElement(o.Indicator,{card:t}))})),p&&l.createElement(vt,{respond:function(){return b(!1)},card:t}))},Wt=function(e){var t=e.styles,n=e.add,r=e.hide;return l.createElement("div",{className:t.addColumnContainer,style:{marginLeft:r?334:0}},l.createElement("div",{className:t.addColumn},l.createElement(E.a,{onClick:n},l.createElement(It.a,null))))},zt=function(){var e=Object(f.c)(),t=l.useState(0),n=s()(t,2),r=n[0],a=n[1],o=l.useState(!1),c=s()(o,2),i=c[0],u=c[1],d=l.useState(!1),m=s()(d,2),p=m[0],b=m[1],g=l.useState(!1),E=s()(g,2),h=E[0],y=E[1],v=Object(f.d)(_e.boards.tabs);return l.createElement(l.Fragment,null,l.createElement(j,{tabs:v.map((function(e){return e.name})),render:function(e){return l.createElement(Rt,{tabInfo:{tab:v[e],index:e}})},addTab:function(){return b(!0)},renameTab:function(){return y(!0)},deleteTab:function(){return v.length>1?u(!0):alert("Cannot delete only tab")},moveTab:function(t){return e(Oe(t))},children:l.createElement(kt,null),index:r,setIndex:a}),i&&l.createElement(ht,{open:!0,respond:function(t){return u(!1)||t&&(e(ye(r)),a(Math.max(0,r-1)))},title:"Delete this tab?",subtitle:"Don't worry, this action can be undone."}),p&&l.createElement(yt,{open:!0,respond:function(t){return b(!1)||"string"===typeof t&&t.length&&e(he(t))},title:"Add tab",label:"Name"}),h&&l.createElement(yt,{open:!0,respond:function(t){return y(!1)||"string"===typeof t&&t.length&&e(ve({tabID:v[r].id,name:t}))},title:"Rename tab "+v[r].name,label:"Name"}))},Ht=function(){var e=i.a.useState(0),t=s()(e,2),n=t[0],r=t[1],a="web"===m.a.OS?{height:"calc(100% - 48px)"}:{flexGrow:1};return i.a.createElement(f.a,{store:Fe},i.a.createElement(d.a,{style:{top:0,left:0,height:"100%",width:"100%",display:"flex",flexDirection:"column"}},i.a.createElement(d.a,{style:a},0===n&&i.a.createElement(zt,null)),i.a.createElement(wt,{active:n,setActive:r})))};Object(c.a)((function(e){return i.a.createElement(Ht,{style:{top:0,left:0,height:"100%",width:"100%"}})}))}},[[207,1,2]]]);
//# sourceMappingURL=app.c285a7f7.chunk.js.map