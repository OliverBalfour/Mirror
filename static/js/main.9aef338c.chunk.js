(this.webpackJsonpmirror=this.webpackJsonpmirror||[]).push([[0],{190:function(e,t,n){e.exports=n(224)},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),o=n(12),u=n(13),l=n(19),s=n(34),d=n(14),f=n(9),m=n.n(f),b=n(15),p=n(23),h=n(43),v=n.n(h),g=n(25),O=n(8),y=n(153),E=n(22),j=n(24);function w(){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(m.a.mark((function e(){var t,n,r,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:return t=e.sent,e.next=5,D(t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,Object(j.c)();case 4:if(e.sent.length){e.next=14;break}if(!(r=S())){e.next=11;break}return e.next=10,D(r);case 10:return e.abrupt("return",r);case 11:return e.next=13,n();case 13:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.next=17,C(t);case 17:return e.abrupt("return",e.sent);case 20:return e.prev=20,e.t0=e.catch(14),console.error(e.t0),e.next=25,n();case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}}),e,null,[[14,20]])})))).apply(this,arguments)}var x=function(){var e=Object(b.a)(m.a.mark((function e(t,n){var r,a,c,i,o,u,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:null,a=[],e.t0=E.a,e.next=5,Object(j.c)();case 5:e.t1=e.sent,c=(0,e.t0)(e.t1),e.prev=7,c.s();case 9:if((i=c.n()).done){e.next=18;break}if(o=i.value,(u=o.split("."))[1]!==n){e.next=16;break}if("continue"!==function(){var e=u[2];if(r&&-1===r.indexOf(e))return"continue";a.push(Object(j.b)(o).then((function(r){return t[n][e]=r})))}()){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t2=e.catch(7),c.e(e.t2);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return e.next=28,Promise.all(a);case 28:return e.abrupt("return",t);case 29:case"end":return e.stop()}}),e,null,[[7,20,23,26]])})));return function(t,n){return e.apply(this,arguments)}}();function C(){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(m.a.mark((function e(){var t,n,r,a,c,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!(o.length>0&&void 0!==o[0])||o[0],n={cards:{},columns:{},tabs:{}},r=Object(E.a)(Ce),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=15;break}return c=a.value,e.next=9,Object(j.b)("mirror.".concat(c));case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=[];case 12:n[c]=e.t0;case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(3),r.e(e.t1);case 20:return e.prev=20,r.f(),e.finish(20);case 23:return i=[x(n,"tabs"),x(n,"columns").then((function(){if(t)return x(n,"cards");var e=["main"];for(var r in n.columns)e.push.apply(e,Object(s.a)(n.columns[r].items));return x(n,"cards",e)}))],e.next=26,Promise.all(i);case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})))).apply(this,arguments)}function S(){try{if(Object.prototype.hasOwnProperty.call(localStorage,"kanban")){var e=JSON.parse(localStorage.kanban);return delete localStorage.kanban,e}}catch(t){return console.error(t),null}}function D(e){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(m.a.mark((function e(t){var n,r,a,c,i,o,u,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&!t.loading){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(j.b)("mirror.starredZettels");case 5:if(e.t0=e.sent,null!=e.t0){e.next=9;break}return e.next=9,Object(j.d)("mirror.starredZettels",[]);case 9:n=Object(E.a)(Ce),e.prev=10,n.s();case 12:if((r=n.n()).done){e.next=19;break}if(a=r.value,!Object.prototype.hasOwnProperty.call(t,a)){e.next=17;break}return e.next=17,Object(j.d)("mirror.".concat(a),t[a]);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(10),n.e(e.t1);case 24:return e.prev=24,n.f(),e.finish(24);case 27:c=[],i=Object(E.a)(Te);try{for(i.s();!(o=i.n()).done;)for(l in u=o.value,t[u])c.push(Object(j.d)("mirror.".concat(u,".").concat(l),t[u][l]))}catch(s){i.e(s)}finally{i.f()}return e.next=32,Promise.all(c);case 32:return e.abrupt("return",e.sent);case 35:e.prev=35,e.t2=e.catch(0),console.error(e.t2);case 38:case"end":return e.stop()}}),e,null,[[0,35],[10,21,24,27]])})))).apply(this,arguments)}function N(e){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(m.a.mark((function e(t){var n,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:null,e.prev=1,n){e.next=8;break}return e.next=5,Object(j.b)("mirror."+t);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,Object(j.b)("mirror."+t+"."+n);case 10:return e.abrupt("return",e.sent);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function A(e){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(m.a.mark((function e(t){var n,r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Object(E.a)(t.set),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=17;break}c=a.value,e.t0=c.type,e.next="add"===e.t0||"edit"===e.t0?9:"delete"===e.t0?11:"param"===e.t0?13:15;break;case 9:return n.push(Object(j.d)("mirror.".concat(c.namespace,".").concat(c.object.id),c.object)),e.abrupt("break",15);case 11:return n.push(Object(j.a)("mirror.".concat(c.namespace,".").concat(c.id))),e.abrupt("break",15);case 13:return n.push(Object(j.d)("mirror.".concat(c.namespace),c.value)),e.abrupt("break",15);case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(2),r.e(e.t1);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.next=27,Promise.all(n);case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}}),e,null,[[2,19,22,25]])})))).apply(this,arguments)}window.deleteAllState=Object(b.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,Object(j.c)();case 3:return e.t1=e.sent.map((function(e){return Object(j.a)(e)})),e.next=6,e.t0.all.call(e.t0,e.t1);case 6:for(t=e.sent,n=localStorage.length-1;n>=0;n--)(r=localStorage.key(n)).startsWith("__GITHUB")&&delete localStorage[r];return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),window.pruneUnusedState=Object(b.a)(m.a.mark((function e(){var t,n,r,a,c,i,o,u,l,d,f,b,p,h,v,g,O,y,k,x,C,T,S,_,N,I,A,L,R=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R.length>0&&void 0!==R[0]&&R[0],e.next=3,w();case 3:n=e.sent,r=0,a=1,c=Object.keys(n.tabs),i=Object(E.a)(n.tabOrder);try{for(i.s();!(o=i.n()).done;)u=o.value,c.splice(c.indexOf(u),1)}catch(m){i.e(m)}finally{i.f()}for(l=Object.keys(n.tabs).filter((function(e){return!c.includes(e)})),d=[],f=0,b=Object.keys(n.columns);f<b.length;f++){p=b[f],h=Object(E.a)(l);try{for(h.s();!(v=h.n()).done;)g=v.value,-1!==n.tabs[g].columns.indexOf(p)&&d.push(p)}catch(m){h.e(m)}finally{h.f()}}for(O=Object.keys(n.columns).filter((function(e){return!d.includes(e)})),y=[],k=0,x=Object.keys(n.cards);k<x.length;k++){C=x[k],T=Object(E.a)(d);try{for(T.s();!(S=T.n()).done;)_=S.value,-1!==n.columns[_].items.indexOf(C)&&y.push(C)}catch(m){T.e(m)}finally{T.f()}}for(N=Object.keys(n.cards).filter((function(e){return n.cards[e].type===r&&!y.includes(e)})),t&&function(){for(var e=["main"],t=[];e.length;){var r=e.pop();t.push(r);var c=n.cards[r].content+n.cards[r].description,i=(c=c.replace(/```[^`]*```/gm,"").replace(/`[^`\n]`/gm,"")).match(/(\[\[[A-Za-z0-9_-]+\]\])/gm),o=i?i.map((function(e){return e.substring(2,e.length-2)})):[];e.push.apply(e,Object(s.a)(o.filter((function(e){return n.cards[e].type===a&&-1===t.indexOf(e)}))))}N.push.apply(N,Object(s.a)(Object.keys(n.cards).filter((function(e){return n.cards[e].type===a&&-1===t.indexOf(e)}))))}();N.length;)delete n.cards[N.pop()];for(;O.length;)delete n.columns[O.pop()];for(;c.length;)delete n.tabs[c.pop()];return e.t0=E.a,e.next=23,Object(j.c)();case 23:e.t1=e.sent,I=(0,e.t0)(e.t1),e.prev=25,I.s();case 27:if((A=I.n()).done){e.next=33;break}return L=A.value,e.next=31,Object(j.a)(L);case 31:e.next=27;break;case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(25),I.e(e.t2);case 38:return e.prev=38,I.f(),e.finish(38);case 41:return e.next=43,D(n);case 43:window.location.reload();case 44:case"end":return e.stop()}}),e,null,[[25,35,38,41]])}))),window.__idb={get:j.b,set:j.d,keys:j.c,del:j.a},window.__idb.getAll=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,window.__idb.keys();case 3:return e.t1=e.sent.map(function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,window.__idb.get(t);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",e.t0.all.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),window.exportIDBState=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,window.__idb.getAll();case 3:e.sent.forEach((function(e){var n=Object(o.a)(e,2),r=n[0],a=n[1];return t[r]=a})),n=JSON.stringify(t),Object(O.j)(n,"mirror-backup.json","application/json");case 7:case"end":return e.stop()}}),e)}))),window.importIDBState=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.body.innerHTML="Choose a file to upload, or reload to cancel.&nbsp;<input type='file' id='fileinput'/>",(t=document.getElementById("fileinput")).addEventListener("change",Object(b.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).readAsText(t.files[0]),n.onloadend=Object(b.a)(m.a.mark((function e(){var t,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=JSON.parse(n.result),r=[],t)r.push(Object(j.d)(a,t[a]));return e.next=5,Promise.all(r);case 5:window.location.reload();case 6:case"end":return e.stop()}}),e)})));case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));var R=null,H=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return",R);case 2:return e.next=4,n.e(3).then(n.bind(null,310)).then((function(e){return new(0,e.Octokit)({auth:M.token})}));case 4:return e.abrupt("return",R=e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M={sha:{get latest(){return localStorage.__GITHUB_GIST_LATEST_SHA},set latest(e){localStorage.__GITHUB_GIST_LATEST_SHA=e},get current(){return localStorage.__GITHUB_GIST_CURRENT_SHA},set current(e){localStorage.__GITHUB_GIST_CURRENT_SHA=e}},get token(){return localStorage.__GITHUB_TOKEN},set token(e){localStorage.__GITHUB_TOKEN=e},get username(){return localStorage.__GITHUB_USERNAME},set username(e){localStorage.__GITHUB_USERNAME=e},get gist_id(){return localStorage.__GITHUB_GIST_ID},set gist_id(e){localStorage.__GITHUB_GIST_ID=e}};function z(){return Boolean(M.token)}function B(e){return P.apply(this,arguments)}function P(){return(P=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.set.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,H();case 4:return n=e.sent,r=function(e){return n.request("PATCH /gists/{gist_id}",{gist_id:M.gist_id,description:"Mirror synchronisation (https://oliverbalfour.github.io/Mirror/)",files:G(e)})},e.next=8,r(t).catch(function(){var e=Object(b.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error(n),e.next=3,Promise.all(t.set.map((function(e){return r({set:[e]})}))).catch(console.error);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.next=10,ie().catch((function(e){console.error("Commit of changes failed. State may no longer be reflected by online sync target. Error: ".concat(e.toString()))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){var t,n={},r=Object(E.a)(e.set);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=U(a);switch(a.type){case"delete":n[c]=null;break;case"add":case"edit":var i=W(a.object);n[c]={filename:c,content:i};break;case"param":n[c]={filename:c,content:JSON.stringify(a.value)}}}}catch(o){r.e(o)}finally{r.f()}return n}function U(e){return F(e.namespace,e.object?e.object.id:null)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"cards"===e?"".concat(t,".md"):t?"".concat(e,".").concat(t,".md"):"".concat(e,".md")}function Z(e){var t=e.split(".");return 2===t.length?-1===Ce.indexOf(t[0])?["cards",t[0]]:[t[0]]:[t[0],t[1]]}function W(e){var t=["description"],n=[];for(var r in e)if(-1===t.indexOf(r)){var a="time"===r?new Date(e[r]).getTime():JSON.stringify(e[r]);n.push("".concat(r,": ").concat(a))}var c="---\n".concat(n.join("\n"),"\n---\n");return e.description&&(c+=e.description),c}function J(e){var t={},n=e.split("---"),r=Object(o.a)(n,3),a=r[0],c=r[1],i=r[2];return c?(c.split("\n").filter((function(e){return e.trim().length})).forEach((function(e){var n=e.split(":"),r=Object(y.a)(n),a=r[0],c=r.slice(1).join(":");t[a]=JSON.parse(c.trimStart())})),i.trim().length&&(t.description=i.trim()),t):JSON.parse(a)}function V(){return(V=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return M.sha.latest=e.sent,e.next=5,X("__logged_in",!1);case 5:if(e.t0=e.sent.status,t=404!==e.t0,console.log("Logging in. Has "+(t?"":"not ")+"logged in before."),n={},!t){e.next=16;break}return e.next=12,q();case 12:n=e.sent,console.log("Finished loading and caching remote state."),e.next=25;break;case 16:return e.next=18,ee("__logged_in","true");case 18:return e.t1=Y,e.next=21,w();case 21:return e.t2=e.sent,e.next=24,(0,e.t1)(e.t2);case 24:console.log("Finished writing local state to remote.");case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PUSH"===window.prompt('Force push to GitHub? This will reversibly OVERWRITE REMOTE STATE.Only use if corrupted. Enter "PUSH" to continue')){e.next=2;break}return e.abrupt("return");case 2:return e.t0=Y,e.next=5,w();case 5:return e.t1=e.sent,e.next=8,(0,e.t0)(e.t1);case 8:console.log("Finished force pushing local state to remote.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PULL"===window.prompt('Force pull from GitHub? This will IRREVERSIBLY OVERWRITE LOCAL STATE.Only use if corrupted. Enter "PULL" to continue')){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ue(null);case 4:return t=e.sent,e.next=7,fe(t);case 7:return n=e.sent,r=be(n),e.next=11,D(r);case 11:M.sha.current=M.sha.latest=t[0],console.log("Reset local state to ".concat(M.sha.current.substring(0,10))),window.location.reload();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:if(M.sha.latest=e.sent,M.sha.latest!==M.sha.current){e.next=7;break}return console.log("No state updates required"),e.abrupt("return",{});case 7:return e.next=9,fe();case 9:return t=e.sent,n=be(t),e.next=13,D(n);case 13:return console.log("Updated local state: ".concat((M.sha.current||"none").substring(0,10),"..").concat(M.sha.latest.substring(0,10))),M.sha.current=M.sha.latest,e.abrupt("return",n);case 18:e.prev=18,e.t0=e.catch(0),console.log("Error occurred while synchronising state. Check network connection. Error: ".concat(e.t0.toString()));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a,c,i,o,u,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new ge,r=Object(E.a)(Ce);try{for(r.s();!(a=r.n()).done;)c=a.value,n.param(c,t[c],null)}catch(s){r.e(s)}finally{r.f()}i=Object(E.a)(Te);try{for(i.s();!(o=i.n()).done;)for(l in u=o.value,t[u])n.add(u,t[u][l])}catch(s){i.e(s)}finally{i.f()}B(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function X(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(b.a)(m.a.mark((function e(t){var n,r,a,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],r="https://gist.githubusercontent.com/"+"".concat(M.username,"/").concat(M.gist_id,"/raw/").concat(M.sha.latest,"/").concat(t),e.next=4,fetch(r);case 4:if(a=e.sent,!n){e.next=9;break}return e.abrupt("return",J(a.text()));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(b.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===n.length&&(n="null"),r=Object(l.a)({},t,{filename:t,content:n}),e.next=4,H();case 4:return a=e.sent,e.next=7,a.request("PATCH /gists/{gist_id}",{gist_id:M.gist_id,files:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(b.a)(m.a.mark((function e(t){var n,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.prev=1,e.next=4,X(F(t,n));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function ae(){return ce.apply(this,arguments)}function ce(){return(ce=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return t=e.sent,e.next=5,t.request("GET /gists/{gist_id}/commits",{gist_id:M.gist_id,per_page:1});case 5:return n=e.sent,e.abrupt("return",n.data[0].version);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:M.sha.current=M.sha.latest=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=Object(b.a)(m.a.mark((function e(){var t,n,r,a,c,i,o,u,l,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:M.sha.current,e.next=3,H();case 3:n=e.sent,r=[],a=1;case 6:if(!(a<100)){e.next=34;break}return e.next=9,n.request("GET /gists/{gist_id}/commits",{gist_id:M.gist_id,per_page:100,page:a});case 9:if(0!==(c=e.sent.data).length){e.next=12;break}return e.abrupt("break",34);case 12:i=Object(E.a)(c),e.prev=13,i.s();case 15:if((o=i.n()).done){e.next=23;break}if(u=o.value,l=u.version,t!==l){e.next=20;break}return e.abrupt("break",23);case 20:r.push(l);case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),i.e(e.t0);case 28:return e.prev=28,i.f(),e.finish(28);case 31:a++,e.next=6;break;case 34:return e.abrupt("return",r);case 35:case"end":return e.stop()}}),e,null,[[13,25,28,31]])})))).apply(this,arguments)}function se(e){return de.apply(this,arguments)}function de(){return(de=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return n=e.sent,e.next=5,n.request("GET /gists/{gist_id}/{sha}",{gist_id:M.gist_id,sha:t});case 5:return r=e.sent,e.abrupt("return",r.data.files);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return me.apply(this,arguments)}function me(){return(me=Object(b.a)(m.a.mark((function e(){var t,n,r,a,c,i,o,u,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:null){e.next=5;break}return e.next=4,ue();case 4:t=e.sent;case 5:for(n={},r=[],a=0;a<t.length;a++)r.push(se(t[a]));return e.next=10,Promise.all(r);case 10:c=e.sent,i=t.length;case 12:if(!(i-- >0)){e.next=24;break}o=c[i],e.t0=m.a.keys(o);case 15:if((e.t1=e.t0()).done){e.next=22;break}if("__logged_in"!==(u=e.t1.value)){e.next=19;break}return e.abrupt("continue",15);case 19:n[u]=o[u].content,e.next=15;break;case 22:e.next=12;break;case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){var t={};for(var n in e){var r=void 0;try{r=J(e[n])}catch(l){continue}var a,c=Z(n),i=t,o=Object(E.a)(c.slice(0,-1));try{for(o.s();!(a=o.n()).done;){var u=a.value;i[u]=i[u]||{},i=i[u]}}catch(s){o.e(s)}finally{o.f()}i[c[c.length-1]]=r}return t}function pe(){if(window.confirm("Are you sure you want to log out? All your state will be saved locally and on GitHub, but it will no longer synchronise.")){for(var e=localStorage.length-1;e>=0;e--){var t=localStorage.key(e);t.startsWith("__GITHUB")&&delete localStorage[t]}window.location.reload()}}var he=n(66),ve=n(69),ge=function(){function e(){Object(he.a)(this,e),this.set=[],this.inv=[]}return Object(ve.a)(e,[{key:"add",value:function(e,t){return this.set.push({type:"add",namespace:e,object:t}),this.inv.push({type:"delete",namespace:e,id:t.id}),this}},{key:"edit",value:function(e,t,n){return this.set.push({type:"edit",namespace:e,object:t}),this.inv.push({type:"edit",namespace:e,object:n}),this}},{key:"delete",value:function(e,t,n){return this.set.push({type:"delete",namespace:e,id:t}),this.inv.push({type:"add",namespace:e,object:n}),this}},{key:"param",value:function(e,t,n){return this.set.push({type:"param",namespace:e,value:t}),this.inv.push({type:"param",namespace:e,value:n}),this}},{key:"concat",value:function(e){for(var t,n,r=e.inv.length-1;r>=0;r--)for(var a=this.set.length-1;a>=0;a--)Object(O.v)(e.inv[r],this.set[a])&&(e.inv.splice(r,1),e.set.splice(r,1),this.inv.splice(a,1),this.set.splice(a,1));(t=this.set).push.apply(t,Object(s.a)(e.set)),(n=this.inv).push.apply(n,Object(s.a)(e.inv));for(var c=[],i=this.set.length-1;i>=0;i--){var o=Oe(this.set[i]);-1!==c.indexOf(o)?this.set.splice(i,1):c.push(o)}return this}},{key:"concatSimple",value:function(e){var t,n;return(t=this.set).push.apply(t,Object(s.a)(e.set)),(n=this.inv).push.apply(n,Object(s.a)(e.inv)),this}},{key:"editAll",value:function(e,t,n){for(var r in t)this.edit(e,t[r],n[r]);return this}},{key:"editAllByID",value:function(e,t,n,r){var a,c=Object(E.a)(n);try{for(c.s();!(a=c.n()).done;){var i=a.value;this.edit(e,t[i],r[i])}}catch(o){c.e(o)}finally{c.f()}return this}},{key:"deleteAllByID",value:function(e,t,n){var r,a=Object(E.a)(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;this.delete(e,c,n[c])}}catch(i){a.e(i)}finally{a.f()}return this}},{key:"invert",value:function(){var t=new e;return t.set=this.inv,t.inv=this.set,t}}]),e}(),Oe=function(e){switch(e.type){case"add":case"edit":return e.object.id;case"delete":return e.id;case"param":return e.namespace}};ge.prototype.commit=function(){Re(this),ye.editSetHistory.past.push(this),ye.editSetHistory.past.length>20&&ye.editSetHistory.past.shift(),ye.editSetHistory.future=[]};var ye={editSetHistory:{past:[],future:[]},undo:{allowed:function(){return ye.editSetHistory.past.length>0},commit:function(){var e=ye.editSetHistory.past.pop();ye.editSetHistory.future.unshift(e),ye.editSetHistory.future.length>20&&ye.editSetHistory.future.pop(),Re(e.invert())}},redo:{allowed:function(){return ye.editSetHistory.future.length>0},commit:function(){var e=ye.editSetHistory.future.shift();ye.editSetHistory.past.push(e),ye.editSetHistory.past.length>20&&ye.editSetHistory.past.shift(),Re(e)}}},Ee="cards",je="columns",we="tabs",ke="tabOrder",xe="starredZettels",Ce=["tabOrder","starredZettels"],Te=["cards","columns","tabs"];function Se(){return(Se=Object(b.a)(m.a.mark((function e(){var t,n,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.next=3,w(t);case 3:if(n=e.sent,!z()){e.next=11;break}return e.t0=d.a,e.t1=Object(d.a)({},n),e.next=9,q();case 9:e.t2=e.sent,n=(0,e.t0)(e.t1,e.t2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(b.a)(m.a.mark((function e(t){var n,r,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,N(t,n);case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",ne(t,n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne,Ie=new ge,Ae=null,Le=[],Re=function(e){return new Promise((function(t,n){var r=[A(e)];z()?Ae?(Ie.concat(e),Le.push(t)):(r.push(B(e)),Ae=setTimeout((function(){B(Ie),Ae=null,Ie=new ge,Le.forEach((function(e){return e()})),Le=[]}),5e3),Promise.all(r).then(t)):Promise.all(r).then(t)}))},He=function(){return fetch("./initial-state.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e)t.push(Object(j.d)(n,e[n]));return Promise.all(t)})).then((function(e){return C(!0)})).catch((function(e){return alert("Could not load initial state. Perhaps you forgot a trailing slash in the URL? Error: "+e)}))},Me={},ze=[[6e5,"10 minutes"],[36e5,"1 hour"],[216e5,"6 hours"]];var Be=Object(p.b)("mirror/SET_STATE"),Pe=Object(p.b)("mirror/OVERWRITE_STATE"),Ge=Object(p.b)("kanban/TRANSFER_CARD"),Ue=Object(p.b)("kanban/REORDER_CARD"),Fe=Object(p.b)("kanban/ADD_CARD"),Ze=Object(p.b)("kanban/EDIT_CARD_CONTENT"),We=Object(p.b)("kanban/EDIT_CARD"),Je=Object(p.b)("kanban/DELETE_CARD"),Ve=Object(p.b)("kanban/ARCHIVE_CARD"),Ke=Object(p.b)("kanban/ADD_COLUMN"),$e=Object(p.b)("kanban/DELETE_COLUMN"),qe=Object(p.b)("kanban/RENAME_COLUMN"),Ye=Object(p.b)("kanban/MOVE_COLUMN"),Xe=Object(p.b)("kanban/ARCHIVE_ALL_COLUMN"),Qe=Object(p.b)("kanban/SORT_COLUMN_BY_CARD_TIME_ATTRIBUTE"),et=Object(p.b)("kanban/ADD_TAB"),tt=Object(p.b)("kanban/DELETE_TAB"),nt=Object(p.b)("kanban/RENAME_TAB"),rt=Object(p.b)("kanban/MOVE_TAB"),at=Object(p.b)("zettelkasten/ADD_ZETTEL"),ct=Object(p.b)("zettelkasten/EDIT_ZETTEL"),it=Object(p.b)("zettelkasten/DELETE_ZETTEL"),ot=Object(p.b)("zettelkasten/TOGGLE_STARRED"),ut=Object(p.c)("zettelkasten/LOAD_ZETTEL",function(){var e=Object(b.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De("cards",t);case 2:if(r=e.sent){e.next=7;break}return e.abrupt("return",n.rejectWithValue(t));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),lt={getColumnsInTabs:function(e){return Object(O.p)(e.tabs,(function(t){return t.columns.map((function(t){return e.columns[t]})).map((function(t){return Object(d.a)(Object(d.a)({},t),{},{items:t.items.map((function(t){return e.cards[t]}))})}))}))},columns:function(e){return e.columns},tabs:function(e){return e.tabs},tabOrder:function(e){return e.tabOrder},cards:function(e){return e.cards},archivedCards:function(e){return Object.values(e.cards).filter((function(e){return-1!==Object.keys(e).indexOf("archived")}))},activeCards:function(e){return Object.values(e.cards).filter((function(e){return-1===Object.keys(e).indexOf("archived")}))},starredZettels:function(e){return e.starredZettels?e.starredZettels:[]},cardsByTab:function(e){return Object(O.p)(e.tabs,(function(t){return t.columns.flatMap((function(t){return e.columns[t].items}))}))},loadingZettel:function(e){return e.loadingZettel}},st=function(e,t){if(!e.length)return window.snackbar("Tab name cannot be empty",{variant:"warning"}),!1;var n=Object.values(t.tabs).map((function(e){return e.name.toLowerCase()}));return-1===n.indexOf(e.toLowerCase())&&-1===n.map(O.k).indexOf(Object(O.k)(e))||(window.snackbar("Tab name already exists",{variant:"warning"}),!1)};function dt(e,t){!function(e,t){if(e in Me){var n,r=Object(E.a)(Me[e]);try{for(r.s();!(n=r.n()).done;){var a=n.value;clearTimeout(a)}}catch(s){r.e(s)}finally{r.f()}delete Me[e]}if(t&&t.time){var c=new Date(t.time).getTime()-(new Date).getTime();if(c<0)return;Me[e]=[];var i,u=Object(E.a)(ze);try{var l=function(){var n=Object(o.a)(i.value,2),r=n[0],a=n[1];c>r&&Me[e].push(setTimeout((function(){Object(O.t)("Due in ".concat(a,": ").concat(Object(O.f)(t)))}),c-r))};for(u.s();!(i=u.n()).done;)l()}catch(s){u.e(s)}finally{u.f()}}}(e,t)}var ft=Object(O.g)({loading:!0},(Ne={},Object(l.a)(Ne,Be,(function(e,t){return t.payload})),Object(l.a)(Ne,Pe,(function(e,t){if("{}"===JSON.stringify(t.payload))return e;var n=Object(O.w)(e);return Object(O.h)(n,t.payload),n})),Object(l.a)(Ne,h.ActionTypes.UNDO,(function(e,t){return ye.undo.commit(),e})),Object(l.a)(Ne,h.ActionTypes.REDO,(function(e,t){return ye.redo.commit(),e})),Object(l.a)(Ne,Ge,(function(e,t){var n=(new Date).getTime(),r=t.payload,a=r.srcColID,c=r.dstColID,i=r.srcIndex,o=r.dstIndex;if(a===c&&i===o)return e;var u=e.columns[a].items[i],l=Object(g.a)(e,(function(e){e.columns[a].items.splice(i,1),e.cards[u].moved=n,e.columns[a].edited=n,e.columns[c].edited=n,e.columns[c].items.splice(o,0,u)}));return(new ge).edit(Ee,l.cards[u],e.cards[u]).edit(je,l.columns[a],e.columns[a]).edit(je,l.columns[c],e.columns[c]).commit(),l})),Object(l.a)(Ne,Ue,(function(e,t){var n=t.payload,r=n.colID,a=n.srcIndex,c=n.dstIndex;if(a===c)return e;var i=(new Date).getTime(),o=e.columns[r].items[a],u=Object(g.a)(e,(function(e){e.columns[r].edited=i,e.columns[r].items.splice(a,1),e.cards[o].moved=i,e.columns[r].items.splice(c,0,o)}));return(new ge).edit(je,u.columns[r],e.columns[r]).edit(Ee,u.cards[o],e.cards[o]).commit(),u})),Object(l.a)(Ne,Fe,(function(e,t){var n=t.payload,r=n.content,a=n.colID,c=Object(O.m)(),i=(new Date).getTime(),o={id:c,content:r,type:0,created:i,edited:i,moved:i},u=Object(g.a)(e,(function(e){e.cards[c]=o,e.columns[a].items.unshift(c),e.columns[a].edited=i}));return(new ge).add(Ee,o).edit(je,u.columns[a],e.columns[a]).commit(),dt(c,o),u})),Object(l.a)(Ne,$e,(function(e,t){var n=t.payload,r=(new Date).getTime(),a=e.tabOrder.map((function(t){return-1!==e.tabs[t].columns.indexOf(n)})).indexOf(!0),c=Object(g.a)(e,(function(e){a>=0&&(e.tabs[e.tabOrder[a]].edited=r),e.columns[n].items.forEach((function(t){return delete e.cards[t]})),Object.values(e.tabs).forEach((function(e){return Object(O.i)(e.columns,n)})),delete e.columns[n]}));return(new ge).editAll(we,c.tabs,e.tabs).deleteAllByID(Ee,e.columns[n].items,e.cards).commit(),c})),Object(l.a)(Ne,qe,(function(e,t){var n=t.payload,r=n.colID,a=n.name;if(e.columns[r].name===a)return e;var c=Object(g.a)(e,(function(e){e.columns[r].name=a,e.columns[r].edited=(new Date).getTime()}));return(new ge).edit(je,c.columns[r],e.columns[r]).commit(),c})),Object(l.a)(Ne,Ze,(function(e,t){var n=t.payload,r=n.cardID,a=n.content;if(e.cards[r].content===a)return e;var c=Object(g.a)(e,(function(e){e.cards[r].content=a,e.cards[r].edited=(new Date).getTime()}));return(new ge).edit(Ee,c.cards[r],e.cards[r]).commit(),dt(r,c.cards[r]),c})),Object(l.a)(Ne,Je,(function(e,t){var n=t.payload,r=(new Date).getTime(),a=[],c=Object(g.a)(e,(function(e){Object.values(e.columns).forEach((function(e){Object(O.i)(e.items,n)&&(e.edited=r,a.push(e.id))})),delete e.cards[t.payload]}));return(new ge).delete(Ee,n,e.cards[n]).editAllByID(je,c.columns,a,e.columns).commit(),dt(n,null),c})),Object(l.a)(Ne,Ke,(function(e,t){var n=t.payload,r=n.tabID,a=n.name,c=Object(O.m)(),i=(new Date).getTime(),o={id:c,items:[],name:a,created:i,edited:i},u=Object(g.a)(e,(function(e){e.columns[c]=o,e.tabs[r].columns.push(c),e.tabs[r].edited=i}));return(new ge).add(je,o).edit(we,u.tabs[r],e.tabs[r]).commit(),u})),Object(l.a)(Ne,We,(function(e,t){var n=t.payload,r=n.card,a=n.colID;if(Object(O.v)(e.cards[r.id],r))return e;var c=(new Date).getTime(),i=Object.keys(e.columns).filter((function(t){return-1!==e.columns[t].items.indexOf(r.id)}))[0],o=Object(g.a)(e,(function(e){e.cards[r.id]=JSON.parse(JSON.stringify(t.payload.card)),e.cards[r.id].edited=c,i!==a&&(Object(O.i)(e.columns[i].items,r.id),e.columns[a].items.unshift(r.id),e.columns[i].edited=e.columns[a].edited=c)}));return(new ge).edit(Ee,o.cards[r.id],e.cards[r.id]).concatSimple(function(){var t=new ge;return i!==a&&(t.edit(je,o.columns[i],e.columns[i]),t.edit(je,o.columns[a],e.columns[a])),t}()).commit(),dt(r.id,r),o})),Object(l.a)(Ne,tt,(function(e,t){var n=t.payload,r=[],a=e.tabOrder[n],c=Object(g.a)(e,(function(e){for(var t=e.tabs[a];t.columns.length;){var c=t.columns[0];r.push.apply(r,Object(s.a)(e.columns[c].items)),e.columns[c].items.forEach((function(t){return delete e.cards[t]})),delete e.columns[c],t.columns.shift()}delete e.tabs[t.id],e.tabOrder.splice(n,1)})),i=e.tabs[a];return(new ge).deleteAllByID(Ee,r,e.cards).deleteAllByID(je,i.columns,e.columns).delete(we,a,i).param(ke,c.tabOrder,e.tabOrder).commit(),c})),Object(l.a)(Ne,et,(function(e,t){var n=t.payload;if(!st(n,e))return e;var r=Object(O.m)(),a={name:n,id:r,columns:[],created:(new Date).getTime()},c=Object(g.a)(e,(function(e){e.tabs[r]=a,e.tabOrder.push(r)}));return(new ge).add(we,a).param(ke,c.tabOrder,e.tabOrder).commit(),c})),Object(l.a)(Ne,nt,(function(e,t){var n=t.payload,r=n.tabID,a=n.name;if(e.tabs[r].name===a)return e;if(!st(a,e))return e;var c=Object(g.a)(e,(function(e){e.tabs[r].name=a,e.tabs[r].edited=(new Date).getTime()}));return(new ge).edit(we,c.tabs[r],e.tabs[r]).commit(),c})),Object(l.a)(Ne,Ye,(function(e,t){var n=Object(o.a)(t.payload,3),r=n[0],a=n[1],c=n[2];if(r===a)return e;var i=e.tabOrder[c],u=e.tabs[i].columns[r],l=Object(g.a)(e,(function(e){e.tabs[i].columns.splice(r,1),e.tabs[i].columns.splice(a,0,u),e.tabs[i].edited=(new Date).getTime()}));return(new ge).edit(we,l.tabs[i],e.tabs[i]).commit(),l})),Object(l.a)(Ne,rt,(function(e,t){var n=Object(o.a)(t.payload,2),r=n[0],a=n[1];if(r===a)return e;var c=e.tabOrder[r];if(a<0||a>=e.tabs.length)return e;var i=Object(g.a)(e,(function(e){e.tabOrder.splice(r,1),e.tabOrder.splice(a,0,c)}));return(new ge).param(ke,i.tabOrder,e.tabOrder).commit(),i})),Object(l.a)(Ne,Xe,(function(e,t){var n=t.payload;if(0===e.columns[n].items.length)return e;var r=(new Date).getTime(),a=Object(g.a)(e,(function(e){e.columns[n].items.forEach((function(t){var a=e.cards[t];a.moved=a.edited=a.archived=r,a.archivedFromColID=n})),e.columns[n].items=[],e.columns[n].edited=r}));return(new ge).editAllByID(Ee,a.cards,e.columns[n].items,e.cards).edit(je,a.columns[n],e.columns[n]).commit(),a})),Object(l.a)(Ne,Ve,(function(e,t){var n=t.payload,r=(new Date).getTime(),a=Object.keys(e.columns).filter((function(t){return e.columns[t].items.includes(n)}))[0],c=Object(g.a)(e,(function(e){var t=e.cards[n];t.moved=t.edited=t.archived=r,t.archivedFromColID=a,e.columns[a].items.splice(e.columns[a].items.indexOf(n),1)}));return(new ge).edit(Ee,c.cards[n],e.cards[n]).edit(je,c.columns[a],e.columns[a]).commit(),c})),Object(l.a)(Ne,at,(function(e,t){var n=t.payload.zettel,r=n.id||Object(O.m)(),a=(new Date).getTime(),c=Object(d.a)({id:r,type:1,created:a,edited:a,moved:a},n),i=Object(g.a)(e,(function(e){e.cards[r]=c}));return(new ge).add(Ee,c).commit(),dt(r,n),i})),Object(l.a)(Ne,ct,(function(e,t){var n=t.payload.zettel;if(Object(O.v)(e.cards[n.id],n))return e;var r=(new Date).getTime();if(-1===Object.keys(e.cards).indexOf(n.id))return e;var a=Object(g.a)(e,(function(e){e.cards[n.id]=n,e.cards[n.id].edited=r}));return(new ge).edit(Ee,n,e.cards[n.id]).commit(),dt(n.id,n),a})),Object(l.a)(Ne,it,(function(e,t){var n=t.payload,r=Object(g.a)(e,(function(e){Object(O.i)(e.starredZettels,t.payload),delete e.cards[n]}));return new ge.param(xe,r.starredZettels,e.starredZettels).delete(Ee,n,e.cards[n]).commit(),dt(n,null),r})),Object(l.a)(Ne,ot,(function(e,t){var n=t.payload,r=Object(g.a)(e,(function(e){e.starredZettels||(e.starredZettels=[]),-1===e.starredZettels.indexOf(n)?e.starredZettels.push(n):Object(O.i)(e.starredZettels,n)}));return(new ge).param(xe,r.starredZettels,e.starredZettels).commit(),dt(n,r.cards[n]),r})),Object(l.a)(Ne,Qe,(function(e,t){var n=t.payload,r=Object(g.a)(e,(function(e){e.columns[n].items.sort((function(t,n){var r=new Date(e.cards[n].time||null).getTime(),a=new Date(e.cards[t].time||null).getTime();return 0===a&&0===r?0:0===a?1:0===r?-1:a-r}))}));return(new ge).edit(je,r.columns[n],e.columns[n]).commit(),r})),Object(l.a)(Ne,ut.pending,(function(e,t){return Object(g.a)(e,(function(e){return e.loadingZettel=!0}))})),Object(l.a)(Ne,ut.fulfilled,(function(e,t){return Object(g.a)(e,(function(e){e.cards[t.payload.id]=t.payload,delete e.loadingZettel}))})),Object(l.a)(Ne,ut.rejected,(function(e,t){return Object(g.a)(e,(function(e){return e.loadingZettel=t.payload}))})),Ne)),mt=[Be.type,ut.pending.type,ut.fulfilled.type,ut.rejected.type],bt=v()(ft,{limit:20,neverSkipReducer:!0,filter:function(e,t,n){return-1===mt.indexOf(e.type)}}),pt=n(130),ht=n(269),vt=n(283),gt=n(270),Ot=n(271),yt=n(77),Et=n.n(yt),jt=n(169),wt=n(290),kt=function(e){var t=e.map,n=e.children,a=r.useState(null),c=Object(o.a)(a,2),i=c[0],u=c[1],l=function(){return u(null)};return r.createElement(r.Fragment,null,r.createElement(jt.a,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:l},Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return r.createElement(wt.a,{key:n,onClick:function(){l(),a()}},n)}))),r.cloneElement(n,{onClick:function(e){return u(e.currentTarget)}}))},xt=function(e){var t=e.tabs,n=e.render,a=e.index,c=e.setIndex,i=e.addTab,o=e.renameTab,u=e.deleteTab,s=e.moveTab,d=e.columnsLocked,f=e.toggleColumnsLocked,m=function(e,n){return n>=0&&n<t.length&&c(n)},b=function(){return r.createElement("div",{style:{flexGrow:1}})};return r.createElement("div",{className:"tab-bar-root"},r.createElement(ht.a,{className:"tab-bar-header",position:"static",style:{backgroundColor:"white",zIndex:2,position:"relative"}},r.createElement(vt.a,{value:a,onChange:m,indicatorColor:"primary",textColor:"primary"},t.map((function(e){return r.createElement(gt.a,{label:e,key:e})})),r.createElement(b,null),r.createElement(kt,{map:Object(l.a)({"Add tab":function(){return i()},"Rename tab":function(){return o(a)},"Delete tab":function(){return u(a)},"Move tab left":function(){s([a,a-1]),m(0,a-1)},"Move tab right":function(){s([a,a+1]),m(0,a+1)}},d?"Unlock columns":"Lock columns",(function(){return f()}))},r.createElement(Ot.a,null,r.createElement(Et.a,null))))),t.map((function(e,t){return a===t&&r.createElement("div",{className:"tab-bar-content",key:t},n(t))})))},Ct=n(272),Tt=n(158),St=n.n(Tt),Dt=n(110),_t=n.n(Dt),Nt=n(287),It=n(278),At=n(275),Lt=n(279),Rt=n(276),Ht=n(226),Mt=n(286),zt=n(291),Bt=n(285),Pt=n(280),Gt=n(89),Ut=Object(p.a)({reducer:function(e,t){return t.type!==h.ActionTypes.UNDO||ye.undo.allowed()?t.type!==h.ActionTypes.REDO||ye.redo.allowed()?-1!==mt.indexOf(t.type)?Object(d.a)(Object(d.a)({},e),{},{present:ft(e.present,t)}):bt(e,t):(window.snackbar("Cannot redo any further",{variant:"warning"}),e):(window.snackbar("Cannot undo any further",{variant:"warning"}),e)},middleware:[Gt.a]});(function(){return Se.apply(this,arguments)})(!0).then((function(e){Ut.dispatch(Be(e))}));try{document.addEventListener("keyup",(function(e){-1===["input","textarea"].indexOf(document.activeElement.tagName.toLowerCase())&&(e.ctrlKey&&90===e.which&&!e.shiftKey?Ut.dispatch(h.ActionCreators.undo()):(e.ctrlKey&&e.shiftKey&&90===e.which||e.ctrlKey&&89===e.which)&&Ut.dispatch(h.ActionCreators.redo()))}))}catch(Er){}var Ft=Ut,Zt=function(e){return e.present},Wt={boards:Object(O.p)(lt,(function(e){return function(t){return e(Zt(t))}}))},Jt=n(293),Vt=n(95),Kt=r.lazy((function(){return Promise.all([n.e(5),n.e(6)]).then(n.bind(null,309))})),$t=function(e){var t=e.cards?Object(O.r)(e.source,e.cards):e.source;return-1===t.indexOf("$$")?r.createElement(Vt.a,Object.assign({},e,{source:t})):r.createElement(r.Suspense,{fallback:r.createElement("span",null,"Loading...")},r.createElement(Kt,Object.assign({},e,{source:t})))},qt=n(267),Yt=n(47),Xt=n(128),Qt=n(154),en=r.forwardRef((function(e,t){var n=e.value,a=e.setValue,c=e.className,i=e.offset,o=void 0===i?5:i,u=Object(Yt.a)(e,["value","setValue","className","offset"]),l=r.useRef(null),s=t,d=function(){var e=l.current,t=s.current;if(e&&t){window.swap=function(){e.style.display=window.swapped?"none":"block",t.style.display=window.swapped?"block":"none",window.swapped=!window.swapped},e.innerText=s.current.value,e.innerHTML+='<br style="line-height: 3px;">';var n;e.style.visibility="hidden",e.style.display="block",t.style.display="none",n=e.offsetHeight,e.style.visibility="visible",e.style.display="none",t.style.display="block",t.style.height=n+o+"px"}};return window.resize=d,r.useEffect(d,[n,s]),Object(O.y)(window,"resize",d),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,className:"autoresize-div "+(c||""),style:{padding:2}}),r.createElement("textarea",Object.assign({},u,{onChange:function(e){return a(e.target.value)},value:n,className:"custom-textarea autoresize "+(c||""),ref:s})))})),tn=function(e){var t=e.value,n=e.setValue,a=e.addNote,c=e.className,i=Object(Yt.a)(e,["value","setValue","addNote","className"]),o=r.useRef(null),l=Object(u.d)(Wt.boards.cards);return r.useEffect((function(){var e=new Qt.TextareaEditor(o.current),t={context:function(e){return e.indexOf("[[")>=0},match:/\[\[([^\]]+)$/,search:function(e,t){return t([].concat(Object(s.a)(Object(O.u)(e,l).slice(0,9)),Object(s.a)(a?[0]:[])))},cache:!0,template:function(e){return 0===e?"<em>Add note</em>":Object(O.n)(l[e])},replace:function(e){if(0===e&&a){var t=Object(O.m)();return window.setTimeout((function(){return a(t)}),0),"[[".concat(t,"]]")}return"[[".concat(e,"]]")}},n={dropdown:{rotate:!0,maxCount:10}},r=new Xt.Textcomplete(e,[t],n);return function(){r.destroy(),delete window.__addNote}}),[]),r.createElement(en,Object.assign({},i,{ref:o,value:t,setValue:n,className:c}))},nn=function(e){var t=e.card,n=e.setCard,a=r.useState(!1),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(u.d)(Wt.boards.cards);if(!i&&"string"!==typeof t.description)return r.createElement(_n,{onClick:function(){return l(!0)}},"Add description");var f=function(e){i?27===e.which&&(l(!1),e.stopPropagation()):document.activeElement===e.target&&-1!==[32,13].indexOf(e.which)&&setTimeout((function(){return l(!0)}),0)};return i?r.createElement(r.Fragment,null,r.createElement(zt.a,{className:"custom-label"},"Description"),r.createElement(qt.a,{onClickAway:function(){return l(!1)},mouseEvent:"onMouseDown"},r.createElement("div",{onKeyDown:f},r.createElement(tn,{value:t.description,setValue:function(e){return n(Object(d.a)(Object(d.a)({},t),{},{description:e.length?e:void 0}))},className:"descriptionEditor",offset:20,autoFocus:!0})))):r.createElement("div",{style:{marginTop:8,overflow:"auto"}},r.createElement(zt.a,{className:"custom-label",onClick:function(){return l(!0)}},"Description"),r.createElement($t,{source:t.description,cards:s,tabIndex:"0",onKeyDown:f,className:"markdown-selectable",onDoubleClick:function(){return l(!0)}}))},rn=function(e){var t=e.card;if(t.description){var n=Object(O.f)(t);return r.createElement(Dn,{label:null,title:n,icon:r.createElement(_t.a,null)})}return null},an=n(155),cn=n.n(an),on=n(27),un=n(282),ln=n(166),sn=n(277),dn=n(168),fn=n(295),mn=n(78),bn=n.n(mn);fn.a.weekStart=1;var pn=function(e){var t=e.card,n=e.setCard,a=function(e){return n(Object(d.a)(Object(d.a)({},t),{},{time:e}))};return t.time?r.createElement("div",{style:{marginTop:10}},r.createElement(zt.a,{className:"custom-label"},"Date & time"),r.createElement(on.a,{utils:ln.a,locale:fn.a},r.createElement(un.a,{value:new Date(t.time),onChange:function(e){return a(e.getTime())},showTodayButton:!0,format:"MMMM do hh:mm aaa"})),r.createElement(Ot.a,{size:"small",style:{marginLeft:10},onClick:function(){return a(null)}},r.createElement(bn.a,null))):r.createElement(_n,{onClick:function(){return a(Object(sn.a)().getTime())}},"Add date & time")},hn=function(e){var t=e.card;return t.time?r.createElement(Dn,{icon:r.createElement(cn.a,null),label:Object(O.s)(t.time),title:Object(dn.a)(new Date(t.time),"dd/MM/yyyy hh:mmaaa"),className:Object(O.x)(new Date(t.time).getTime())}):null},vn=n(156),gn=n.n(vn),On=function(e){var t=e.card,n=e.setCard,a=r.useState(t.duration?yn(t.duration):""),c=Object(o.a)(a,2),i=c[0],u=c[1],l=r.useRef(null),s=function(e){var r=En(e);u(e),"number"===typeof r&&n(Object(d.a)(Object(d.a)({},t),{},{duration:r}))};if(!t.duration)return r.createElement(_n,{onClick:function(){s("1h"),setTimeout((function(){try{l.current.focus()}catch(Er){}}),0)}},"Add duration");var f=function(e){return""!==e&&null!==e&&null===En(e)};return r.createElement("div",{style:{marginTop:10}},r.createElement(zt.a,{className:"custom-label"},"Duration"),r.createElement(Mt.a,{style:{width:201,marginTop:4},ref:l,margin:"dense",fullWidth:!0,value:i,error:f(i),helperText:f(i)?"Invalid format. Examples: 2d 1h 30m, 5m":null,onChange:function(e){return s(e.target.value)}}),r.createElement(Ot.a,{size:"small",style:{marginLeft:10},onClick:function(){return n(Object(d.a)(Object(d.a)({},t),{},{duration:null}))}},r.createElement(bn.a,null)))},yn=function(e){if("string"===typeof e)return e;var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);return 0===t&&0===n&&0===r?"0m":((t?t+"d ":"")+(n?n+"h ":"")+(r?r+"m":"")).trim()},En=function(e){if("number"===typeof e)return e;var t=/^(\d+d|\d*\.\d+d)?\s*(\d+h|\d*\.\d+h)?\s*(\d+m|\d*\.\d+m)?$/m.exec(e);if(!t||4!==t.length||!t.slice(1).filter((function(e){return e})).length)return null;var n=function(e){return parseFloat(e.substring(0,e.length-1))};return 86400*n((t=t.slice(1))[0]||"0d")+3600*n(t[1]||"0h")+60*n(t[2]||"0m")},jn=function(e){var t=e.card;if(t.duration){var n=yn(t.duration),a="Duration: ".concat(n),c=r.createElement(gn.a,null);return r.createElement(Dn,{label:n,title:a,icon:c})}return null},wn=n(157),kn=n.n(wn),xn=function(e){var t=e.card,n=e.setCard,a=r.useRef(null),c=r.useState(t.location||""),i=Object(o.a)(c,2),u=i[0],l=i[1],s=function(e){l(e),"string"===typeof u&&n(Object(d.a)(Object(d.a)({},t),{},{location:e}))};return t.location?r.createElement("div",{style:{marginTop:10}},r.createElement(zt.a,{className:"custom-label"},"Location"),r.createElement(Mt.a,{style:{width:201,marginTop:4},ref:a,margin:"dense",fullWidth:!0,value:u,onChange:function(e){return s(e.target.value)}}),r.createElement(Ot.a,{size:"small",style:{marginLeft:10},onClick:function(){return n(Object(d.a)(Object(d.a)({},t),{},{location:null}))}},r.createElement(bn.a,null))):r.createElement(_n,{onClick:function(){s("home"),setTimeout((function(){try{a.current.focus()}catch(Er){}}),0)}},"Add location")},Cn=function(e){var t=e.card;return t.location?r.createElement(Dn,{label:t.location,title:"Location: ".concat(t.location),icon:r.createElement(kn.a,null)}):null},Tn=function(e){var t=e.card;return r.createElement(r.Fragment,null,r.createElement(rn,{card:t}),r.createElement(hn,{card:t}),r.createElement(jn,{card:t}),r.createElement(Cn,{card:t}))},Sn=function(e){var t=e.card,n=e.setCard;return r.createElement(r.Fragment,null,r.createElement(nn,{card:t,setCard:n}),r.createElement(pn,{card:t,setCard:n}),r.createElement(On,{card:t,setCard:n}),r.createElement(xn,{card:t,setCard:n}))},Dn=function(e){var t=e.icon,n=e.label,a=e.title,c=e.className;return r.createElement(Jt.a,{size:"small",icon:t,label:n,title:a,classes:n&&n.length?null:{label:"attribute-label"},className:"attribute-indicator "+(c||""),variant:"outlined"})},_n=function(e){return r.createElement("div",{className:"attribute-header"},r.createElement(Ht.a,Object.assign({variant:"outlined",color:"primary",size:"small"},e)))},Nn=function(e){return Object(O.y)(document,"keydown",(function(t){return t.ctrlKey&&13===t.which&&e()}))},In=function(e){var t=e.open,n=e.respond,a=e.title,c=e.subtitle,i=e.labels,o=void 0===i?["Cancel","OK"]:i;return Object(O.z)("dialog"),Nn((function(){return t&&n(!0)})),r.createElement(Nt.a,{open:t,onClose:function(){return n(null)}},r.createElement(It.a,null,a),r.createElement(At.a,null,r.createElement(Lt.a,null,c)),r.createElement(Rt.a,null,r.createElement(Ht.a,{onClick:function(){return n(!1)},color:"primary"},o[0]),r.createElement(Ht.a,{onClick:function(){return n(!0)},color:"primary",variant:"contained",autoFocus:!0},o[1])))},An=function(e){var t=e.open,n=e.respond,a=e.title,c=e.subtitle,i=e.labels,u=void 0===i?["Cancel","OK"]:i,l=e.label,s=e.inputType,d=void 0===s?"text":s,f=e.placeholder,m=void 0===f?"":f,b=e.buttons,p=void 0===b?null:b;Object(O.z)("dialog");var h=r.useState(m),v=Object(o.a)(h,2),g=v[0],y=v[1];return Nn((function(){return t&&n(g)})),r.createElement(Nt.a,{open:t,onClose:function(){return n(null)}},r.createElement(It.a,null,a),r.createElement(At.a,null,"string"===typeof c&&r.createElement(Lt.a,null,c),r.createElement(Mt.a,{autoFocus:!0,margin:"dense",fullWidth:!0,label:l,type:d,value:g,onChange:function(e){return y(e.target.value)}})),r.createElement(Rt.a,null,p,r.createElement(Ht.a,{onClick:function(){return n(!1)},color:"primary"},u[0]),r.createElement(Ht.a,{onClick:function(){return n(g)},color:"primary",variant:"contained"},u[1])))},Ln=function(e){var t=e.respond,n=e.card;Object(O.z)("dialog");var a=Object(u.c)(),c=Object(u.d)((function(e){return Object.values(Zt(e).columns).filter((function(e){return-1!==e.items.indexOf(n.id)}))[0].id})),i=r.useState(c),l=Object(o.a)(i,2),f=l[0],m=l[1],b=r.useState(n),p=Object(o.a)(b,2),h=p[0],v=p[1],g=function(e){return v(Object(d.a)(Object(d.a)({},h),{},{content:e}))},y=Object(u.d)(Wt.boards.columns),E=Object(u.d)(Wt.boards.tabs),j=function(){t(),g(n.content)},w=function(){a(We({card:h,colID:f})),j()};return Nn(w),r.createElement(Nt.a,{open:!0,onClose:function(){return j()},fullWidth:!0,maxWidth:"md",disableBackdropClick:JSON.stringify(h)!==JSON.stringify(n)},r.createElement(O.d,{shouldProtect:JSON.stringify(h)!==JSON.stringify(n)}),r.createElement(It.a,null,"Edit card"),r.createElement(At.a,null,r.createElement(zt.a,{id:"kanban/card-column",className:"custom-label"},"Column"),r.createElement(Bt.a,{labelId:"kanban/card-column",value:f,onChange:function(e){return m(e.target.value)}},Object.values(E).flatMap((function(e){return[r.createElement(Pt.a,{key:e.id},e.name)].concat(Object(s.a)(e.columns.map((function(e){return r.createElement(wt.a,{value:e,key:e},y[e].name)}))))}))),r.createElement(zt.a,{id:"kanban/card-title",className:"custom-label"},"Title"),r.createElement(Mt.a,{margin:"dense",autoFocus:!0,fullWidth:!0,multiline:!0,rowsMax:6,value:h.content,onChange:function(e){return g(e.target.value)}}),r.createElement(Sn,{card:h,setCard:v})),r.createElement(Rt.a,{style:{flexDirection:"row-reverse"}},r.createElement(Ht.a,{onClick:w,color:"primary",variant:"contained"},"OK"),r.createElement("div",{style:{flexGrow:1}}),r.createElement(Ht.a,{onClick:j,color:"primary"},"Cancel"),r.createElement(Ht.a,{onClick:function(){a(We({card:h,colID:f})),a(Je(n.id)),j()},color:"primary"},"Archive"),r.createElement(Ht.a,{onClick:function(){a(We({card:h,colID:f})),a(Je(n.id)),j()}},"Delete")))},Rn=function(e){var t=e.open,n=e.respond;return Object(O.z)("dialog"),Nn((function(){return t&&n()})),r.createElement(Nt.a,{open:t,onClose:n,fullWidth:!0},r.createElement(It.a,null,"About Mirror"),r.createElement(At.a,null,r.createElement(Lt.a,null,"A free and open source personal task management and note taking app.",r.createElement("br",null),"Made by Oliver Balfour. \xa9 2020-2021.",r.createElement("br",null),"App icon is ",r.createElement("a",{href:"https://thenounproject.com/term/mirror/340140/"},"Mirror"),"\xa0 by Lastspark from ",r.createElement("a",{href:"http://thenounproject.com/"},"The Noun Project"),".")),r.createElement(Rt.a,null,r.createElement(Ht.a,{onClick:n,color:"primary",variant:"contained",autoFocus:!0},"OK")))},Hn=function(e){var t=e.open,n=e.respond;Object(O.z)("dialog");var a=r.useState(""),c=Object(o.a)(a,2),i=c[0],u=c[1],l=r.useState(""),s=Object(o.a)(l,2),d=s[0],f=s[1],m=r.useState(""),b=Object(o.a)(m,2),p=b[0],h=b[1],v=function(){return n(i,d,p)};return Nn((function(){return t&&v()})),r.createElement(Nt.a,{open:t,onClose:n,fullWidth:!0},r.createElement(It.a,null,"Log in via GitHub"),r.createElement(At.a,null,r.createElement(Lt.a,null,r.createElement(Vt.a,{source:'To log in via GitHub for synchronisation,\n            [create a new token](https://github.com/settings/tokens/new) with\n            the `gist` permission and save it somewhere safe. Then, go to\n            [gist.github.com](https://gist.github.com) and create a new Gist\n            with any title and add one file, `main.md`, with any contents.\n            Then click "Create secret gist" and copy the gist ID from the URL.\n            Enter your token, gist ID and username below.'})),r.createElement(zt.a,{className:"custom-label"},"GitHub Username"),r.createElement(Mt.a,{margin:"dense",fullWidth:!0,value:p,onChange:function(e){return h(e.target.value)},autoComplete:"username"}),r.createElement(zt.a,{className:"custom-label"},"Gist ID"),r.createElement(Mt.a,{margin:"dense",fullWidth:!0,value:d,onChange:function(e){return f(e.target.value)},autoComplete:"off"}),r.createElement(zt.a,{className:"custom-label"},"GitHub access token"),r.createElement(Mt.a,{margin:"dense",autoFocus:!0,fullWidth:!0,value:i,onChange:function(e){return u(e.target.value)},type:"password",autoComplete:"current-password"})),r.createElement(Rt.a,null,r.createElement(Ht.a,{onClick:function(){return n(!1)},color:"primary"},"Cancel"),r.createElement(Ht.a,{onClick:function(){return v()},color:"primary",variant:"contained"},"Log in")))},Mn=function(e){var t=e.active,n=e.setActive,r=a.a.useState(!1),c=Object(o.a)(r,2),i=c[0],l=c[1],s=a.a.useState(!1),f=Object(o.a)(s,2),m=f[0],b=f[1],p=Object(u.c)(),h=Object(d.a)(Object(d.a)({"Submit feedback":function(){return window.open("mailto:".concat("leolalor1+mirrorsupport@googlemail.com"),"_blank")},About:function(){return l(!0)}},z()?{"Log out of GitHub":pe,"Force push to GitHub":K,"Force pull from GitHub":$}:{"Log in via GitHub":function(){return b(!0)}}),{},{"Clear saved state":function(){return"YES"===window.prompt("Delete all saved state? Pressing undo will fix this. Type YES to confirm","NO")&&window.deleteAllState()},"Import state":function(){return window.importIDBState()},"Export state":function(){return window.exportIDBState()},"Enable notifications":function(){return Notification.requestPermission().then((function(e){"granted"===e&&new Notification("You'll now see notifications about event deadlines here")}))},"Toggle light/dark theme":function(){return"dark"===localStorage.theme?window.setTheme("light"):window.setTheme("dark")}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(ht.a,{color:"primary",className:"menubar"},a.a.createElement(Ct.a,{style:{minHeight:0}},a.a.createElement(vt.a,{value:t,onChange:function(e,t){return n(t)},TabIndicatorProps:{style:{backgroundColor:"white"}}},a.a.createElement(gt.a,{label:a.a.createElement("div",null,a.a.createElement(St.a,{style:{verticalAlign:"middle"}})," Boards")}),a.a.createElement(gt.a,{label:a.a.createElement("div",null,a.a.createElement(_t.a,{style:{verticalAlign:"middle"}})," Notes")})),a.a.createElement("div",{style:{flexGrow:1}}),a.a.createElement(Un,null),a.a.createElement(kt,{map:h},a.a.createElement(Ot.a,{edge:"end",color:"inherit"},a.a.createElement(Et.a,null))))),i&&a.a.createElement(Rn,{open:!0,respond:function(){return l(!1)}}),m&&a.a.createElement(Hn,{open:!0,respond:function(e,t,n){b(!1),!1!==e&&(M.token=e,M.gist_id=t,M.username=n,function(){return V.apply(this,arguments)}().then((function(e){return p(Pe(e))})))}}))},zn=n(159),Bn=n.n(zn),Pn=n(160),Gn=n.n(Pn),Un=function(){var e=Object(u.c)();return r.createElement(r.Fragment,null,r.createElement(Ot.a,{onClick:function(){return e(h.ActionCreators.undo())},color:"inherit",edge:"end"},r.createElement(Bn.a,null)),r.createElement(Ot.a,{onClick:function(){return e(h.ActionCreators.redo())},color:"inherit",edge:"end"},r.createElement(Gn.a,null)))},Fn=function(e){return a.a.createElement("div",{className:"loading-screen-container"},a.a.createElement("span",{className:"loading-screen-contents"},"Loading..."))},Zn=n(64),Wn=n(281),Jn=n(79),Vn=n.n(Jn),Kn=n(111),$n=n.n(Kn),qn=n(161),Yn=n.n(qn),Xn=function(e){var t=e.col,n=e.add,a=e.locked,c=e.handleProps,i=Object(u.c)(),l=r.useState(!1),s=Object(o.a)(l,2),f=s[0],m=s[1],b=r.useState(!1),p=Object(o.a)(b,2),h=p[0],v=p[1],g=t.items.filter((function(e){return-1!==["string","number"].indexOf(typeof e.time)})).length>0;return r.createElement("div",null,r.createElement("div",{className:"columnHeaderContainer"},!a&&r.createElement(Ot.a,Object.assign({size:"small"},c),r.createElement(Yn.a,null)),r.createElement("div",{className:"columnHeaderText"},t.name),r.createElement("div",{style:{flexGrow:1}}),r.createElement("div",null,r.createElement(Ot.a,{size:"small",onClick:function(){return n()}},r.createElement(Vn.a,null)),r.createElement(kt,{map:Object(d.a)(Object(d.a)({},g?{"Sort by due":function(){return i(Qe(t.id))}}:{}),{},{"Archive all":function(){return i(Xe(t.id))}},a?{}:{Rename:function(){return v(!0)},Delete:function(){return m(!0)}})},r.createElement(Ot.a,{size:"small"},r.createElement(Et.a,null))))),r.createElement("hr",{className:"columnHeaderRule"}),f&&r.createElement(In,{open:!0,respond:function(e){m(!1),e&&i($e(t.id))},title:"Delete this column?",subtitle:"Don't worry, this action can be undone."}),h&&r.createElement(An,{open:!0,respond:function(e){v(!1),"string"===typeof e&&e.length&&i(qe({colID:t.id,name:e}))},title:'Rename column "'.concat(t.name,'"'),subtitle:"Don't worry, this action can be undone.",label:"Name",placeholder:t.name}))},Qn=r.memo((function(e){var t=e.card,n=e.index,a=e.setEditingCard,c=Object(u.d)(Wt.boards.cards);if(!t)return null;var i=t.id,o=t.content;return r.createElement(r.Fragment,null,r.createElement(Zn.b,{draggableId:i,index:n},(function(e,n){return r.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:"card "+(n.isDragging?" draggingCard":""),style:e.draggableProps.style,onClick:function(){return a(i)}}),r.createElement($t,{source:o,cards:c,className:"compact"}),r.createElement(Tn,{card:t}))})))})),er=r.memo((function(e){var t=e.col,n=e.index,a=e.setEditingCard,c=e.locked,i=t.id,l=t.items,s=r.useState(!1),d=Object(o.a)(s,2),f=d[0],m=d[1],b=r.useState(""),p=Object(o.a)(b,2),h=p[0],v=p[1],g=Object(u.c)(),y=function(){h.length&&g(Fe({content:h,colID:i})),v(""),m(!1)},E=function(){f?v(""):j.current.scrollTop=0,m(!f)},j=r.useRef(null),w=r.createElement(Zn.c,{droppableId:i,className:"card-droppable",type:"card",ignoreContainerClipping:!0},(function(e,t){return r.createElement(r.Fragment,null,r.createElement("div",{className:"column-internals"+(t.isDraggingOver?" dragging-over":""),ref:Object(O.o)(e.innerRef,j)},f&&r.createElement(tr,{value:h,setValue:v,add:y,cancel:function(){v(""),m(!1)}}),l.map((function(e,t){return e?r.createElement(Qn,{card:e,index:t,key:e.id,setEditingCard:a}):null}))),e.placeholder)}));return r.createElement(Zn.b,{draggableId:i,index:n,isDragDisabled:c},(function(e,n){return r.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,{className:"columnContainer"+(n.isDragging?" draggingColumn":""),style:e.draggableProps.style}),r.createElement("div",{className:"column"},r.createElement("div",null,r.createElement(Xn,{col:t,add:E,locked:c,handleProps:e.dragHandleProps})),r.createElement("div",{className:"column-internals-container"},w)))}))})),tr=function(e){var t=e.value,n=e.setValue,a=e.add,c=e.cancel;return Object(O.y)(document,"keydown",(function(e){27===e.which?c():e.ctrlKey&&13===e.which&&!Object(O.l)("dialog")&&a()})),r.createElement(qt.a,{onClickAway:function(){return!t.length&&c()}},r.createElement("div",{className:"new-card-sheet"},r.createElement(Mt.a,{label:"New card",multiline:!0,autoFocus:!0,rowsMax:6,value:t,onChange:function(e){return n(e.target.value)},variant:"filled",style:{width:"100%"}}),r.createElement(Wn.a,{variant:"contained",size:"small",className:"editingCardButtons"},r.createElement(Ht.a,{style:{flexGrow:1},variant:"contained",onClick:a},"Done"),r.createElement(Ht.a,{onClick:c},r.createElement($n.a,{style:{color:"#555"}})))))},nr=function(e){var t=e.add,n=e.hide;return r.createElement("div",{className:"addColumnContainer columnContainer "+(n?" hidden":"")},r.createElement("div",{className:"addColumn column"},r.createElement(Ot.a,{onClick:t,variant:"outlined"},r.createElement(Vn.a,null))))},rr=(n(221),function(e){var t=e.tabInfo,n=e.columnsLocked,a=t.index,c=t.tab,i=Object(u.c)(),l=Object(u.d)(Wt.boards.tabOrder),s=Object(u.d)(Wt.boards.getColumnsInTabs)[l[a]],d=Object(u.d)(Wt.boards.tabs),f=Object(u.d)(Wt.boards.cards),m=d[l[a]].columns,b=r.useState(!1),p=Object(o.a)(b,2),h=p[0],v=p[1],g=Object(O.A)(),y=Object(o.a)(g,2),E=y[0],j=y[1],w="edit"===E.split("/")[4]?E.split("/")[3]:null,k=Object(u.d)(Wt.boards.cardsByTab),x=function(e){return j(e?"/boards/".concat(Object(O.k)(d[function(e){return Object.keys(k).filter((function(t){return-1!==k[t].indexOf(e)}))}(e)].name),"/").concat(e,"/edit"):"/boards/".concat(E.split("/")[2]))};return r.createElement("div",{className:"boardview-root"},r.createElement(Zn.a,{onDragEnd:function(e){e.destination&&("card"===e.type?i(function(e){var t=Object(o.a)(e,4),n=t[0],r=t[1],a=t[2],c=t[3];return n===r?Ue({colID:n,srcIndex:a,dstIndex:c}):Ge({srcColID:n,dstColID:r,srcIndex:a,dstIndex:c})}([e.source.droppableId,e.destination.droppableId,e.source.index,e.destination.index])):"column"===e.type&&i(Ye([e.source.index,e.destination.index,a])))}},r.createElement(Zn.c,{droppableId:"default",className:"column-droppable",direction:"horizontal",type:"column"},(function(e,t){return r.createElement(r.Fragment,null,r.createElement("div",{className:"root",ref:e.innerRef},m.map((function(e,t){return r.createElement(er,{col:s[t],key:e,index:t,setEditingCard:x,locked:n})})),!n&&r.createElement(nr,{add:function(){return v(!0)},hide:t.isDraggingOver||t.draggingFromThisWith}),!m.length&&n&&r.createElement("div",{className:"loading-screen-container"},r.createElement("span",{className:"loading-screen-contents"},r.createElement("em",null,'Choose "Unlock columns" in the top right menu to add a column')))),e.placeholder)}))),h&&r.createElement(An,{open:!0,respond:function(e){v(!1),"string"===typeof e&&e.length&&i(Ke({tabID:c.id,name:e}))},title:"Add column",label:"Name"}),w&&Object.prototype.hasOwnProperty.call(f,w)&&r.createElement(Ln,{respond:function(){return x(null)},card:f[w]}))}),ar=function(e){var t=e.active,n=Object(u.c)(),a=Object(O.A)(),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(u.d)(Wt.boards.tabs),d=Object(u.d)(Wt.boards.tabOrder),f=d.map((function(e){return Object(O.k)(s[e].name)===i.split("/")[2]})).indexOf(!0),m=function(e){return l("/boards/"+Object(O.k)(s[d[e]].name))};Object(O.C)((function(){return t&&f>=0&&s[d[f]].name+" | Mirror"})),f>=0&&(window.__lastCurrentTab=f),f<0&&(f=window.__lastCurrentTab||0);var b=r.useState("false"===localStorage.columnsLocked),p=Object(o.a)(b,2),h=p[0],v=p[1],g=r.useState(!1),y=Object(o.a)(g,2),E=y[0],j=y[1],w=r.useState(!1),k=Object(o.a)(w,2),x=k[0],C=k[1],T=r.useState(!1),S=Object(o.a)(T,2),D=S[0],_=S[1],N=s[d[f]].name;return r.createElement(r.Fragment,null,r.createElement(xt,{tabs:d.map((function(e){return s[e].name})),render:function(e){return r.createElement(rr,{key:e,tabInfo:{tab:s[d[e]],index:e},columnsLocked:h})},addTab:function(){return C(!0)},renameTab:function(){return _(!0)},deleteTab:function(){return Object.values(s).length>1?j(!0):alert("Cannot delete only tab")},moveTab:function(e){return n(rt(e))},index:f,setIndex:m,columnsLocked:h,toggleColumnsLocked:function(){return e=!h,localStorage.columnsLocked=JSON.stringify(!e),void v(e);var e}}),E&&r.createElement(In,{open:!0,respond:function(e){j(!1),e&&(n(tt(f)),m(Math.max(0,f-1)))},title:"Delete this tab?",subtitle:"Don't worry, this action can be undone."}),x&&r.createElement(An,{open:!0,respond:function(e){C(!1),"string"===typeof e&&e.length&&n(et(e))},title:"Add tab",label:"Name"}),D&&r.createElement(An,{open:!0,respond:function(e){_(!1),"string"===typeof e&&e.length&&n(nt({tabID:d[f],name:e})),l("/boards/"+Object(O.k)(e))},title:"Rename tab ".concat(N),label:"Name",placeholder:N}))},cr=n(162),ir=n.n(cr),or=n(163),ur=n.n(or),lr=n(165),sr=n.n(lr),dr=n(164),fr=n.n(dr),mr=(n(222),function(e){var t=e.active,n=Object(O.A)(),a=Object(o.a)(n,1)[0],c=Object(u.c)(),i=Object(u.d)(Wt.boards.cards),l=Object(u.d)(Wt.boards.loadingZettel),s=a.split("/")[2]||"main";return Object.prototype.hasOwnProperty.call(i,s)?!0===l?r.createElement(br,null):l===s?r.createElement(pr,{id:s}):r.createElement(hr,{active:t,dispatch:c,cards:i,currentCardID:s}):(c(ut(s)),r.createElement(br,null))});function br(){return r.createElement("span",null,"Loading Zettel...")}function pr(){return r.createElement("span",null,"Failed to load Zettel. Either synchronisation failed or it does not exist.")}function hr(e){var t=e.active,n=e.dispatch,a=e.cards,c=e.currentCardID,i=Object(O.A)(),l=Object(o.a)(i,2),s=l[0],f=l[1],m="edit"===s.split("/")[3],b=Object(u.d)(Wt.boards.starredZettels),p=a[c],h=r.useState(Object(d.a)({},p)),v=Object(o.a)(h,2),g=v[0],y=v[1];Object(O.C)((function(){return t&&g.content+" | Mirror"}));var E=function(e){return y(Object(d.a)(Object(d.a)({},g),e))};if(Object(O.y)(document,"keydown",(function(e){m&&13===e.which&&e.ctrlKey&&k(g)})),"object"!==typeof p)return null;var j=function(e){return f(e?"/notes/".concat(c,"/edit"):"/notes/".concat(c))},w=function(){n(Je(c)),f("/notes/main")},k=function(e){n(ct({zettel:e})),j(!1)},x=function(){return n(ot(c))};p.id!==g.id&&(n(ct({zettel:g})),y(Object(d.a)({},p)));var C=function(e){n(at({zettel:{content:"New note",description:"...",id:e}})),f("/notes/".concat(e,"/edit"))},T=function(){return r.createElement(Wn.a,{variant:"contained",color:"primary"},!m&&r.createElement(Ht.a,{onClick:function(){return j(!0)},title:"Edit note"},r.createElement(ir.a,null)),!m&&r.createElement(Ht.a,{onClick:function(){return C(Object(O.m)())},title:"Add note"},r.createElement(Vn.a,null)),r.createElement(Ht.a,{onClick:function(){return alert("TODO")},title:"Search notes"},r.createElement(ur.a,null)),-1===b.indexOf(p.id)?r.createElement(Ht.a,{onClick:x,title:"Star this note"},r.createElement(fr.a,null)):r.createElement(Ht.a,{onClick:x,title:"Unstar this note"},r.createElement(sr.a,null)),"main"!==p.id&&r.createElement(Ht.a,{onClick:w,title:"Delete note"},r.createElement($n.a,null)))};return r.createElement(r.Fragment,null,r.createElement(O.d,{shouldProtect:JSON.stringify(g)!==JSON.stringify(p)}),r.createElement("div",{className:"zettelContainer"},r.createElement("div",{className:"zettelButtons",id:"zettel-buttons-container"},r.createElement(T,null)),r.createElement("div",{className:"zettelColumns"},m&&r.createElement("div",{className:"zettel"+(m?" editing-pane":"")},r.createElement(Mt.a,{margin:"dense",autoFocus:!0,fullWidth:!0,className:"zettelEditingTitle",multiline:!0,rowsMax:3,value:g.content||"",onChange:function(e){return E({content:e.target.value})}}),r.createElement("div",{className:"zettelEditingContent"},r.createElement(tn,{value:g.description||"",setValue:function(e){return E({description:e})},addNote:function(e){n(ct({zettel:g})),C(e)},className:"zettelEditingInput"})),r.createElement("div",{className:"zettelEditingButtons"},r.createElement(Ht.a,{onClick:function(){return k(g)},color:"primary",variant:"contained"},"Save"),r.createElement(Ht.a,{onClick:function(){j(!1),y(Object(d.a)({},p))},color:"primary"},"Cancel"))),r.createElement("div",{className:"zettel"+(m?" currently-editing":"")},r.createElement("div",{className:"zettelTitle"},(m?g.content:p.content)||""),r.createElement($t,{source:(m?g.description:p.description)||"",cards:a})))))}var vr=["boards","notes"],gr=function(e){var t=e.active;e.setActive;return a.a.createElement(a.a.Fragment,null,a.a.createElement(O.b,{show:0===t,className:"app-section"},a.a.createElement(ar,{active:0===t})),a.a.createElement(O.b,{show:1===t,className:"app-section"},a.a.createElement(mr,{active:1===t})))},Or=function(){var e=Object(u.c)();Object(O.B)((function(){z()&&q().then((function(t){return e(Pe(t))}))}),15e3);var t=Object(O.A)(),n=Object(o.a)(t,2),r=n[0],c=n[1],i=a.a.useState([]),l=Object(o.a)(i,2),s=l[0],d=l[1],f=a.a.useState(!0),m=Object(o.a)(f,2),b=m[0],p=m[1],h=Object(pt.b)().enqueueSnackbar;window.snackbar=h;var v=Object(u.d)((function(e){return void 0===e.present||Zt(e).loading}));if(b&&!v&&(d(["/boards/","/notes/main"]),p(!1)),v)return a.a.createElement(Fn,null);var g=function(e,t,n){var r=s.slice(0);r[t]=e,d(r),n&&c(e)},y=function(e){return Math.max(vr.indexOf((n=0,(t=e).split("/").filter((function(e){return e.length}))[n<0?t.length+n:n])),0);var t,n}(r),E=function(e){e===y?g(["/boards/","/notes/main"][y],y,!0):(g(r,y),c(s[e]))};return a.a.createElement("div",{id:"jsx-root"},a.a.createElement(gr,{active:y,setActive:E}),a.a.createElement(Mn,{active:y,setActive:E}))},yr=function(){return a.a.createElement(O.e,{id:"theme-root"},"  ",a.a.createElement(u.a,{store:Ft},a.a.createElement(pt.a,{maxSnack:3,autoHideDuration:3e3,classes:{containerRoot:"snackbar-root"}},a.a.createElement(Or,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(223);i.a.render(a.a.createElement(yr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){"use strict";n.d(t,"n",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"r",(function(){return i})),n.d(t,"q",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"o",(function(){return E})),n.d(t,"A",(function(){return w})),n.d(t,"C",(function(){return x})),n.d(t,"B",(function(){return C})),n.d(t,"y",(function(){return T})),n.d(t,"l",(function(){return S})),n.d(t,"z",(function(){return D})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return A})),n.d(t,"e",(function(){return L})),n.d(t,"m",(function(){return P})),n.d(t,"s",(function(){return G})),n.d(t,"x",(function(){return U})),n.d(t,"p",(function(){return F})),n.d(t,"v",(function(){return Z})),n.d(t,"i",(function(){return W})),n.d(t,"w",(function(){return J})),n.d(t,"h",(function(){return K})),n.d(t,"j",(function(){return $})),n.d(t,"u",(function(){return q})),n.d(t,"g",(function(){return Y})),n.d(t,"t",(function(){return X}));var r=n(22),a=function(e){if(!e)return"unknown";var t=e.content.split("\n")[0];return t.length>40?t.substring(0,37)+"...":t},c=function(e){if(!e)return"";var t=e?"string"===typeof e?e:e.description||e.content:"unknown";return t.split("\n\n").join("\n").substring(0,500)+(t.length>500?"...":"")},i=function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#/notes/",c=/(\[\[[A-Za-z0-9_-]+\]\])/gm;null!==(n=c.exec(e));){n.index===c.lastIndex&&c.lastIndex++;var i=(e.substring(0,n.index).match(/`/gm)||[]).length%2===0;if(i){var o=n[1].substring(2,n[1].length-2),u=e.substring(0,n.index),l=a(t[o]),s=r+o,d=e.substring(n.index+n[1].length,e.length);e=u+"[".concat(l,"](").concat(s,")")+d}}return e},o=function(e,t){return((e||"").match(t)||[]).length},u=function(e,t){if(-1===e.indexOf("$$"))return e;var n=/<p>\$\$([^\n]+)\$\$<\/p>/m,r=/\$\$([^\n]+)\$\$/m,a=function(e,n){return t.renderToString(e,{throwOnError:!1,displayMode:n})},c=function(e,t){for(var c=0,i=t?n:r,u=e.match(i),l=0;l<100&&c<e.length&&u;l++){o(e.substring(0,c+u.index),/<(code|pre)[^>]*>/g)===o(e.substring(0,c+u.index),/<\/(code|pre)>/g)&&(e=e.substring(0,u.index+c)+a(u[1],t)+e.substring(u.index+c+u[0].length,e.length)),c+=u.index+u[0].length,u=e.substring(c,e.length).match(i)}return e};return c(c(e,!0),!1)},l=function(e){return encodeURIComponent(e.toLowerCase().replace(/ /g,"-"))},s=n(66),d=n(69),f=n(118),m=n(119),b=n(47),p=n(12),h=n(0),v=n(149),g=n.n(v),O=n(167),y=n(261),E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.filter(Boolean);return a.length?0===a.length?a[0]:function(e){var t,n=Object(r.a)(a);try{for(n.s();!(t=n.n()).done;){var c=t.value;"function"===typeof c?c(e):c&&(c.current=e)}}catch(i){n.e(i)}finally{n.f()}}:null},j=function(){return window.location.hash.replace("#","")||"/"},w=function(){var e=h.useState(j()),t=Object(p.a)(e,2),n=t[0],r=t[1];h.useEffect((function(){var e=function(){return r(j())};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}}),[]);var a=h.useCallback((function(e){return window.location.hash=e}),[]);return[n,a,a]},k=0,x=function(e){if("function"===typeof e){var t=e();t&&(document.title=t)}h.useEffect((function(){var t=document.title;return k++,"string"===typeof e&&(document.title=e),function(){return!k--&&(document.title=t)}}))},C=function(e,t){h.useEffect((function(){var n=setInterval(e,t);return function(){return clearInterval(n)}}),[e,t])},T=function(e,t,n){h.useEffect((function(){return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}}))},S=function(e){return window["__flag_"+e]},D=function(e){h.useEffect((function(){var t="__flag_"+e;return window[t]=!0,function(){return window[t]=!1}}))},_=function(e){var t=e.shouldProtect,n=void 0===t||t;return h.useEffect((function(){return n&&(window.onbeforeunload=function(e){return"Are you sure you want to quit?"}),function(){return window.onbeforeunload=null}})),null},N=function(e){var t=e.children,n=e.show,r=Object(b.a)(e,["children","show"]);return h.createElement("div",Object.assign({style:n?{}:{display:"none"}},r),t)},I=function(e){var t=e.source,n=e.purify,r=void 0===n||n,a=Object(b.a)(e,["source","purify"]);return h.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:r?g.a.sanitize(t,{ADD_ATTR:["target"]}):t}},a))},A=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1,error:null},e}return Object(d.a)(n,[{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(h.Component);var L=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={theme:localStorage.theme||"light"},r.themes={dark:Object(O.a)({palette:{type:"dark",primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},error:{main:"#f44336"},warning:{main:"#ff9800"},info:{main:"#2196f3"},success:{main:"#4caf50"}}}),light:Object(O.a)({palette:{type:"light"}})},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.setTheme=function(t){return e.setState({theme:t},(function(){return localStorage.theme=t}))}}},{key:"render",value:function(){return document.documentElement.className="theme-"+this.state.theme,h.createElement(y.a,{theme:this.themes[this.state.theme]},this.props.children)}}]),n}(h.Component),R=n(168),H=n(262),M=n(263),z=n(264),B=null,P=function(){var e,t=(e=new Date,R.a(e,"yyyyMMdd-hhmmss")),n=t;return null!==B&&B.substring(0,t.length)===n&&(B.length===t.length?n+="-1":n+="-"+(parseInt(B.substring(t.length+1,B.length))+1)),B=n,n},G=function(e){var t=new Date(e),n=new Date,r=function(e){return 0===e.getHours()&&0===e.getMinutes()?null:0===e.getMinutes()?R.a(e,"haaa"):R.a(e,"h:mmaaa")}(t);return function(e){var t=H.a(e,n),r=M.a(e,n,{weekStartsOn:1}),a=z.a(e,n),c=n.getDay()-1;if(c<0&&(c+=7),0===t)return"Today";if(-1===t)return"Yesterday";if(1===t)return"Tomorrow";var i=R.a(e,"EEE");return 0===r&&t>=0||c>=5&&t>=0&&c+t-7<5?i:t>=-7&&t<0?"Last ".concat(i):t>0&&t<=7?"Next ".concat(i):t>7&&t<=14?"".concat(i," Week"):0===a?R.a(e,"EEE do MMM"):R.a(e,"EEE do MMM yyyy")}(t)+(r?" "+r:"")},U=function(e){var t=(e-(new Date).getTime())/1e3;return t<0?"urgency-overdue":t<7200?"urgency-two-hours":t<86400?"urgency-day":t<604800?"urgency-week":t<1209600?"urgency-fortnight":null},F=function(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r]),n}),{})},Z=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))},W=function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),-1!==n},J=function(e){var t=window.history.state;window.history.replaceState(e,window.title);var n=window.history.state;return window.history.replaceState(t,window.title),n},V=function(e){return e&&"object"===typeof e&&!Array.isArray(e)};function K(e,t){if(V(e)&&V(t))for(var n in t)V(t[n])&&V(e[n])?K(e[n],t[n]):e[n]=t[n];return e}var $=function(e,t,n){n||(n="application/octet-stream");var r=document.createElement("a"),a=new Blob([e],{type:n});r.href=window.URL.createObjectURL(a),r.download=t,r.click()},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=Object.keys(t);a||(c=c.filter((function(e){return!t[e].archived})));var i,o=[],u=e.toLowerCase(),l=Object(r.a)(c);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(t[s].content.toLowerCase().includes(u)&&(o.push(s),o.length===n))return o}}catch(v){l.e(v)}finally{l.f()}var d,f=Object(r.a)(c);try{for(f.s();!(d=f.n()).done;){var m=d.value;if(t[m].description&&t[m].description.toLowerCase().includes(u)&&(o.push(m),o.length===n))return o}}catch(v){f.e(v)}finally{f.f()}var b,p=Object(r.a)(c);try{for(p.s();!(b=p.n()).done;){var h=b.value;if(h.toLowerCase().includes(u)&&(o.push(h),o.length===n))return o}}catch(v){p.e(v)}finally{p.f()}return o};function Y(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;if(Object.prototype.hasOwnProperty.call(t,r.type)){var a=t[r.type](n,r);return a||console.error("Invalid state produced by createReducer for ".concat(r.type,": ").concat(a)),a}}}function X(e){return"granted"===Notification.permission&&(new Notification(e),!0)}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(47),a=n(0),c=n(109),i=n.n(c),o=n(8),u=a.lazy((function(){return n.e(4).then(n.bind(null,228))})),l={link:function(e,t,n){var r=i.a.Renderer.prototype.link.call(this,e,t,n);return e.startsWith("http")?r.replace("<a","<a rel='noopener' target='_blank'"):r}};i.a.use({renderer:l});var s=function(e){var t=e.source,n=e.postprocess,c=void 0===n?function(e){return e}:n,l=Object(r.a)(e,["source","postprocess"]);try{var s=a.memo((function(){return a.createElement(o.c,Object.assign({source:c(i()(t,{gfm:!0}))},l,{className:"markdown "+(l.className?l.className:"")}))}));return null!==t.match(/```\w+/m)?a.createElement(o.a,{fallback:a.createElement(s,null)},a.createElement(a.Suspense,{fallback:a.createElement("span",null,"Loading...")},a.createElement(u,Object.assign({source:t,postprocess:c},l)))):a.createElement(s,null)}catch(d){return a.createElement("span",null,"Sorry, an error occurred.",a.createElement("br",null),"Try editing the note to ensure any LaTeX math equations and the Markdown syntax are valid.",a.createElement("br",null),"Error: ",d.toString())}}}},[[190,1,2]]]);
//# sourceMappingURL=main.9aef338c.chunk.js.map