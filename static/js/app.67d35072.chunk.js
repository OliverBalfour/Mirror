(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{205:function(e,t,n){n(206),e.exports=n(321)},206:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/Mirror/expo-service-worker.js",{scope:"/Mirror/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},321:function(e,t,n){"use strict";n.r(t);var r=n(383),a=n(0),o=n.n(a),c=n(13),l=n.n(c),i=n(34),u=n(62),s=n(17),d=n(365),m=n(381),f=n(366),p=n(367),b=n(70),g=n.n(b),y=n(182),E=n(388),h=function(e){var t=e.map,n=e.children,r=a.useState(null),o=l()(r,2),c=o[0],i=o[1],u=function(){return i(null)};return a.createElement(a.Fragment,null,a.createElement(y.a,{anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:u},Object.entries(t).map((function(e){var t=l()(e,2),n=t[0],r=t[1];return a.createElement(E.a,{key:n,onClick:function(){u(),r()}},n)}))),a.cloneElement(n,{onClick:function(e){return i(e.currentTarget)}}))},v=function(e){var t=e.show,n=e.children;return a.createElement("div",{hidden:!t,style:{height:"calc(100% - 48px)"}},t&&n)},O=function(e){var t=e.tabs,n=e.render,r=e.children,o=e.index,c=e.setIndex,l=e.addTab,u=e.renameTab,s=e.deleteTab,b=e.moveTab,y=function(e,n){return n>=0&&n<t.length&&c(n)};return a.createElement("div",{style:{flex:1}},a.createElement(d.a,{position:"static",style:{backgroundColor:"white",zIndex:2,position:"relative"}},a.createElement(m.a,{value:o,onChange:y,indicatorColor:"primary",textColor:"primary"},t.map((function(e){return a.createElement(f.a,{label:e,key:e})})),a.createElement(i.a,{style:{flexGrow:1}}),a.createElement(h,{map:{"Add tab":function(){return l()},"Rename tab":function(){return u(o)},"Delete tab":function(){return s(o)},"Move tab left":function(){return b([o,o-1]),y(0,o-1)},"Move tab right":function(){return b([o,o+1]),y(0,o+1)}}},a.createElement(p.a,null,a.createElement(g.a,null))),r)),t.map((function(e,t){return a.createElement(v,{show:o===t,key:e},o===t&&n(t))})))},w=n(24),j=n.n(w),C=n(368),D=n(324),x=(Object(C.a)((function(e){return{button:{}}})),n(370)),k=n(167),P=n.n(k),S=n(168),I=n.n(S),T=n(104),M=n.n(T),R=n(15),A=n.n(R),N=n(369),F=n(181);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _,z=function(){return Math.random().toString().substring(2)},W=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tabs:[{name:"Main",id:z()},{name:"Secondary",id:z()}]},function(e,t){for(var n=e.reduce((function(e,t){return e+t}),0),r=[],a=["Wash the dishes","Make cool app","Run out of ideas for sample tasks for the app you're making","Cook pizza for dinner","Finish your chemistry homework","Write a tutorial explaining how monads are isomorphic to burritos in the category of food","Forget to wrap a line at 300 characters","Learn Common Lisp","Do normal human things","Prove P=NP for N=1","Eat some chocolate","Stop eating so much chocolate","Write witty comment","\ud83d\ude42"],o=0;o<n;o++){var c=(o+1).toString()+"-"+z();r.push({id:c,content:a[Math.floor(Math.random()*a.length)]})}for(var l=[],i=0,u=0;i<e.length;i++){var s=r.slice(u,u+e[i]).map((function(e){return e.id})),d=(i+1).toString()+"-"+z();l.push({id:d,items:s,name:t[i]}),u+=e[i]}return{cards:r,columns:l}}([9,2,6,5,4],["To Do","Doing","Done","Misc 1","Misc 2"])),t=e.columns.map((function(e){return e.id}));return e.tabs[0].columns=[t[0],t[1],t[2]],e.tabs[1].columns=[t[3],t[4]],e},B=function(e){var t=new Date(e),n=new Date,r=function(e){return 0===e.getHours()&&0===e.getMinutes()?null:0===e.getMinutes()?F.a(e,"haaa"):F.a(e,"h:mmaaa")}(t);return function(e){var t=N.a(e,n);return 0===t?"Today":-1===t?"Yesterday":1===t?"Tomorrow":t>0&&t<7?F.a(e,"EEE"):t>-7&&t<0?"Last "+F.a(e,"EEE"):F.a(e,"MMM do")}(t)+(r?" "+r:"")},H=function(e){var t=e.active,n=e.setActive;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{color:"primary",style:{top:"auto",bottom:0}},o.a.createElement(x.a,{style:{minHeight:0}},o.a.createElement(p.a,{edge:"start",color:"inherit",onClick:function(){return console.log("open menu")}},o.a.createElement(P.a,null)),o.a.createElement(m.a,{value:t,onChange:function(e,t){return n(t)},TabIndicatorProps:{style:{backgroundColor:"white"}}},o.a.createElement(f.a,{label:o.a.createElement("div",null,o.a.createElement(I.a,{style:{verticalAlign:"middle"}})," Board")}),o.a.createElement(f.a,{label:o.a.createElement("div",null,o.a.createElement(M.a,{style:{verticalAlign:"middle"}})," Notes")})),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement(h,{map:{"Export state":function(){return function(e,t,n){n||(n="application/octet-stream");var r=document.createElement("a"),a=new Blob([e],{type:n});r.href=window.URL.createObjectURL(a),r.download=t,r.click()}(localStorage.kanban,"mirror-backup.json","application/json")},"Import state":function(){localStorage.kanban=window.prompt("Paste your exported state here. Press cancel (or the undo button after pressing OK) to revert. Refresh the page to confirm and reload state.")},"Clear saved state":function(){return"YES"===window.prompt("Delete all saved state? Pressing undo will fix this. Type YES to confirm","NO")&&localStorage.clear()}}},o.a.createElement(p.a,{edge:"end",color:"inherit"},o.a.createElement(g.a,null))))))},K=n(169),G=n.n(K),U=n(170),V=n.n(U),J=n(61),Y=n.n(J),X=function(){var e=Object(s.c)();return a.createElement(a.Fragment,null,a.createElement(p.a,{onClick:function(){return e(J.ActionCreators.undo())}},a.createElement(G.a,null)),a.createElement(p.a,{onClick:function(){return e(J.ActionCreators.redo())}},a.createElement(V.a,null)))},q=n(125),Q=n.n(q),Z=n(386),$=n(376),ee=n(374),te=n(377),ne=n(375),re=n(385),ae=n(390),oe=n(382),ce=n(378),le=n(21);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=Object(le.b)("kanban/TRANSFER_CARD"),de=Object(le.b)("kanban/REORDER_CARD"),me=Object(le.b)("kanban/ADD_CARD"),fe=Object(le.b)("kanban/EDIT_CARD_CONTENT"),pe=Object(le.b)("kanban/EDIT_CARD"),be=Object(le.b)("kanban/DELETE_CARD"),ge=Object(le.b)("kanban/ADD_COLUMN"),ye=Object(le.b)("kanban/DELETE_COLUMN"),Ee=Object(le.b)("kanban/RENAME_COLUMN"),he=Object(le.b)("kanban/MOVE_COLUMN"),ve=Object(le.b)("kanban/ARCHIVE_ALL_COLUMN"),Oe=Object(le.b)("kanban/ADD_TAB"),we=Object(le.b)("kanban/DELETE_TAB"),je=Object(le.b)("kanban/RENAME_TAB"),Ce=Object(le.b)("kanban/MOVE_TAB"),De=function(e,t){return e.map((function(e){return e.id===t})).indexOf(!0)},xe=function(e,t){return e.splice(De(e,t),1)},ke=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},Pe={getColumnsInTabs:function(e){return e.tabs.map((function(t,n){return e.tabs[n].columns.map((function(t){return e.columns[De(e.columns,t)]})).map((function(t){return ue(ue({},t),{},{items:t.items.map((function(t){return e.cards[De(e.cards,t)]}))})}))}))},columns:function(e){return e.columns},tabs:function(e){return e.tabs},cards:function(e){return e.cards},archivedCards:function(e){return e.cards.filter((function(e){return-1!==Object.keys(e).indexOf("archived")}))},activeCards:function(e){return e.cards.filter((function(e){return-1===Object.keys(e).indexOf("archived")}))}},Se=function(){try{if(!localStorage.hasOwnProperty("kanban"))return W();var e=JSON.parse(localStorage.getItem("kanban"));if(null!==e)return e}catch(t){return W()}}(),Ie=function(e,t){var n=De(e.columns,t);e.columns[n].items.forEach((function(t){return xe(e.cards,t)})),e.tabs.forEach((function(e){return ke(e.columns,t)})),xe(e.columns,t)},Te=Object(le.c)(Se,(_={},A()(_,se,(function(e,t){var n=De(e.columns,t.payload.srcColID),r=De(e.columns,t.payload.dstColID),a=e.columns[n].items,o=e.columns[r].items,c=a.splice(t.payload.srcIndex,1),i=l()(c,1)[0];o.splice(t.payload.dstIndex,0,i)})),A()(_,de,(function(e,t){var n=De(e.columns,t.payload.colID),r=e.columns[n].items,a=r.splice(t.payload.srcIndex,1),o=l()(a,1)[0];r.splice(t.payload.dstIndex,0,o),e.columns[n].items=r})),A()(_,me,(function(e,t){var n=t.payload,r=n.content,a=(n.colID,De(e.columns,t.payload.colID)),o=z();e.cards.push({id:o,content:r}),e.columns[a].items.unshift(o)})),A()(_,ye,(function(e,t){Ie(e,t.payload)})),A()(_,Ee,(function(e,t){e.columns[De(e.columns,t.payload.colID)].name=t.payload.name})),A()(_,fe,(function(e,t){e.cards[De(e.cards,t.payload.cardID)].content=t.payload.content})),A()(_,be,(function(e,t){De(e.cards,t.payload);e.columns.forEach((function(e){return ke(e.items,t.payload)})),xe(e.cards,t.payload)})),A()(_,ge,(function(e,t){var n=z();e.columns.push({id:n,items:[],name:t.payload.name}),e.tabs[De(e.tabs,t.payload.tabID)].columns.push(n)})),A()(_,pe,(function(e,t){e.cards[De(e.cards,t.payload.card.id)]=t.payload.card;var n=e.columns.map((function(e){return-1!==e.items.indexOf(t.payload.card.id)})).indexOf(!0),r=De(e.columns,t.payload.colID);n!==r&&(ke(e.columns[n].items,t.payload.card.id),e.columns[r].items.unshift(t.payload.card.id))})),A()(_,we,(function(e,t){for(;e.tabs[t.payload].columns.length;)Ie(e,e.tabs[t.payload].columns[0]);e.tabs.splice(t.payload,1)})),A()(_,Oe,(function(e,t){e.tabs.push({name:t.payload,id:z(),columns:[]})})),A()(_,je,(function(e,t){e.tabs[De(e.tabs,t.payload.tabID)].name=t.payload.name})),A()(_,he,(function(e,t){var n=l()(t.payload,3),r=n[0],a=n[1],o=n[2],c=e.tabs[o].columns,i=c.splice(r,1),u=l()(i,1)[0];c.splice(a,0,u),e.tabs[o].columns=c})),A()(_,Ce,(function(e,t){var n=l()(t.payload,2),r=n[0],a=n[1];if(!(a<0||a>=e.tabs.length)){var o=e.tabs,c=o.splice(r,1),i=l()(c,1)[0];o.splice(a,0,i),e.tabs=o}})),A()(_,ve,(function(e,t){var n=De(e.columns,t.payload);e.columns[n].items.forEach((function(n){e.cards[De(e.cards,n)].archived={date:(new Date).getTime(),colID:t.payload}})),e.columns[n].items=[]})),_)),Me=Y()(Te,{limit:50}),Re=n(19),Ae=Object(Re.c)({boards:Me}),Ne=Object(le.a)({reducer:Ae});try{document.addEventListener("keyup",(function(e){e.ctrlKey&&90===e.which?Ne.dispatch(J.ActionCreators.undo()):(e.ctrlKey&&e.shiftKey&&90===e.which||e.ctrlKey&&89===e.which)&&Ne.dispatch(J.ActionCreators.redo())}))}catch(At){}var Fe=function(){return function(e){try{if(localStorage){var t=JSON.stringify(e);localStorage.setItem("kanban",t)}}catch(At){}}(Ne.getState().boards.present)};Ne.subscribe(Fe),Fe();var Le,_e,ze=Ne,We=function(e){return e.boards.present},Be={boards:(Le=Pe,_e=function(e){return function(t){return e(We(t))}},Object.keys(Le).reduce((function(e,t){return e[t]=_e(Le[t]),e}),{}))},He=n(105),Ke=n.n(He),Ge=n(371),Ue=n(391);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(e){var t=e.card,n=e.setCard,r=a.useState(!1),o=l()(r,2),c=o[0],i=o[1];return c?a.createElement(Ge.a,{onClickAway:function(){return i(!1)}},a.createElement(re.a,{label:"Description",margin:"dense",autoFocus:!0,fullWidth:!0,variant:"outlined",multiline:!0,rows:6,rowsMax:16,value:t.description,onChange:function(e){return r=e.target.value,n(Je(Je({},t),{},{description:r.length?r:void 0}));var r}})):a.createElement("div",{onClick:function(){return i(!0)},style:{marginTop:8}},a.createElement("span",{style:{color:"grey"}},"Description"),a.createElement(Ke.a,{source:t.description}))},Xe=function(e){var t=e.card;if(t.description){var n=t.description.split("\n\n").join("\n").substring(0,500);return t.description.length,a.createElement(Ue.a,{size:"small",icon:a.createElement(M.a,null),label:"",style:{borderRadius:3,background:"white"},title:n,variant:"outlined"})}return null},qe=n(171),Qe=n.n(qe),Ze=n(20),$e=n(380),et=n(180);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(e){var t=e.card,n=e.setCard,r=function(e){return n(nt(nt({},t),{},{time:e}))};return t.time?a.createElement("div",{style:{marginTop:10}},a.createElement(Ze.a,{utils:et.a},a.createElement($e.a,{value:new Date(t.time),onChange:function(e){return r(e.getTime())},label:"Due date / event time",showTodayButton:!0,format:"MMMM do hh:mm aaa"})),a.createElement(D.a,{color:"primary",variant:"outlined",style:{float:"right",marginTop:12},onClick:function(){return r(null)}},"Reset date")):a.createElement(a.Fragment,null,a.createElement("span",{style:{color:"grey"},onClick:function(){return r((new Date).getTime())}},"Due date / event time"),a.createElement("br",null))},at=function(e){var t=e.card;return t.time?a.createElement(Ue.a,{size:"small",icon:a.createElement(Qe.a,null),label:B(t.time),title:Object(F.a)(new Date(t.time),"dd/MM/yyyy hh:mmaaa"),style:{borderRadius:3,background:"white"},variant:"outlined"}):null},ot=n(172),ct=n.n(ot);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=function(e){var t=e.card,n=e.setCard,r=function(e){return n(it(it({},t),{},{ebs:it(it({},t.ebs),e)}))},o=a.useState(t.ebs?dt(t.ebs.estimate):""),c=l()(o,2),i=c[0],u=c[1],d=a.useState(t.ebs?dt(t.ebs.elapsed):""),m=l()(d,2),f=m[0],p=m[1],b=Object(s.d)((function(e){return We(e).cards.filter((function(e){return e.hasOwnProperty("ebs")})).map((function(e){return e.ebs}))})),g=function(e){u(e);var t=mt(e);"number"===typeof t&&r({estimate:t,computed:st(t,b)})};if(!t.ebs)return a.createElement(a.Fragment,null,a.createElement("span",{style:{color:"grey"},onClick:function(){return g("1h")}},"Time estimate"),a.createElement("br",null));return a.createElement("div",{style:{marginTop:10}},a.createElement("div",{style:{width:"30%",float:"left",marginRight:10}},a.createElement(re.a,{label:"Estimate (predicted "+dt(st(mt(i)||0,b))+")",margin:"dense",autoFocus:!0,fullWidth:!0,value:i,onChange:function(e){return g(e.target.value)}})),a.createElement("div",{style:{width:"30%",float:"left"}},a.createElement(re.a,{label:"Elapsed",margin:"dense",fullWidth:!0,value:f,onChange:function(e){return function(e){p(e);var t=mt(e);"number"===typeof t&&r({elapsed:t})}(e.target.value)}})),a.createElement("div",{style:{flexGrow:1}}),a.createElement(D.a,{color:"primary",variant:"outlined",size:"medium",style:{float:"right",marginTop:12},onClick:function(){return u(""),p(""),n(it(it({},t),{},{ebs:null}))}},"Reset estimate"))},st=function(e,t){return"number"!==typeof e?e:e/.8},dt=function(e){if("string"===typeof e)return e;var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return 0===t&&0===n?"0":(t?t+"h":"")+(n?n+"m":"")},mt=function(e){if("0"===e)return 0;var t=e.indexOf("h");if(t>0){var n=parseFloat(e.substring(0,t));return t+1==e.length?3600*n:"m"!==e[e.length-1]?null:3600*n+60*parseFloat(e.substring(t+1,e.length-1))}var r=parseFloat(e.substring(0,e.length-1));return isNaN(r)?null:60*r},ft=function(e){var t=e.card;if(t.ebs){var n=(t.ebs.elapsed?dt(t.ebs.elapsed)+"/":"")+dt(t.ebs.computed),r=t.ebs.elapsed?"Elapsed: "+dt(t.ebs.elapsed):"",o="Estimate: "+dt(t.ebs.estimate)+"\nComputed: "+dt(t.ebs.computed)+"\n"+r,c=a.createElement(ct.a,null);return a.createElement(Ue.a,{size:"small",icon:c,label:n,title:o,style:{borderRadius:3,background:"white"},variant:"outlined"})}return null};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){var t=e.open,n=e.respond,r=e.title,o=e.subtitle,c=e.labels,l=void 0===c?["Cancel","OK"]:c;return a.createElement(Z.a,{open:t,onClose:function(){return n(null)}},a.createElement($.a,null,r),a.createElement(ee.a,null,a.createElement(te.a,null,o)),a.createElement(ne.a,null,a.createElement(D.a,{onClick:function(){return n(!1)},color:"primary"},l[0]),a.createElement(D.a,{onClick:function(){return n(!0)},color:"primary",variant:"contained",autoFocus:!0},l[1])))},yt=function(e){var t=e.open,n=e.respond,r=e.title,o=e.subtitle,c=e.labels,i=void 0===c?["Cancel","OK"]:c,u=e.label,s=e.inputType,d=void 0===s?"text":s,m=e.placeholder,f=void 0===m?"":m,p=e.buttons,b=void 0===p?null:p,g=a.useState(f),y=l()(g,2),E=y[0],h=y[1],v=function(e){n(e),h(f)};return a.createElement(Z.a,{open:t,onClose:function(){return v(null)}},a.createElement($.a,null,r),a.createElement(ee.a,null,"string"===typeof o&&a.createElement(te.a,null,o),a.createElement(re.a,{autoFocus:!0,margin:"dense",fullWidth:!0,label:u,type:d,value:E,onChange:function(e){return h(e.target.value)}})),a.createElement(ne.a,null,b,a.createElement(D.a,{onClick:function(){return v(!1)},color:"primary"},i[0]),a.createElement(D.a,{onClick:function(){return v(E)},color:"primary",variant:"contained"},i[1])))},Et=function(e){var t=e.respond,n=e.card,r=Object(s.c)(),o=Object(s.d)((function(e){return We(e).columns.filter((function(e){return-1!==e.items.indexOf(n.id)}))[0].id})),c=a.useState(o),i=l()(c,2),u=i[0],d=i[1],m=a.useState(n),f=l()(m,2),p=f[0],b=f[1],g=function(e){return b(bt(bt({},p),{},{content:e}))},y=Q()(Object(s.d)(Be.boards.columns)),h=Object(s.d)(Be.boards.tabs),v=function(){return t(),g(n.content)},O=[z()];return a.createElement(Z.a,{open:!0,onClose:function(){return v()},fullWidth:!0,maxWidth:"md"},a.createElement($.a,null,"Edit card"),a.createElement(ee.a,null,a.createElement(ae.a,{id:O[0]},"Column"),a.createElement(oe.a,{labelId:O[0],value:u,onChange:function(e){return d(e.target.value)}},h.flatMap((function(e){return[a.createElement(ce.a,{key:e.id},e.name)].concat(Q()(e.columns.map((function(e){var t=y[function(e){return y.map((function(t){return t.id===e})).indexOf(!0)}(e)];return a.createElement(E.a,{value:e,key:e},t.name)}))))}))),a.createElement(re.a,{label:"Title",margin:"dense",autoFocus:!0,fullWidth:!0,variant:"filled",multiline:!0,rowsMax:3,value:p.content,onChange:function(e){return g(e.target.value)}}),a.createElement(Ye,{card:p,setCard:b}),a.createElement(rt,{card:p,setCard:b}),a.createElement(ut,{card:p,setCard:b})),a.createElement(ne.a,null,a.createElement(D.a,{onClick:function(){return r(pe({card:p,colID:u})),r(be(n.id)),v()}},"Delete"),a.createElement(D.a,{onClick:v,color:"primary"},"Cancel"),a.createElement(D.a,{onClick:function(){return r(pe({card:p,colID:u})),v()},color:"primary",variant:"contained"},"OK")))},ht=n(379),vt=n(126),Ot=n.n(vt),wt=n(173),jt=n.n(wt),Ct=n(67),Dt=Object(C.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:8,fontSize:"14px","& *":{flexShrink:0}},column:{background:"#DFEEEE",padding:8,paddingBottom:24,width:300,border:"1px solid #CCDCDC",borderRadius:5,margin:8,transition:"border 0.2s",height:"calc(100vh - 160px)",overflow:"hidden"},columnHeaderContainer:{padding:"8 0",display:"flex",justifyContent:"space-between"},columnHeaderText:{paddingLeft:8,paddingBottom:0,fontSize:"1.4em"},columnHeaderRule:{overflow:"hidden",border:"none",color:"#CCDCDC",backgroundColor:"#CCDCDC",height:"1px",width:317,marginLeft:-9},card:{userSelect:"none",padding:"10px 13px",margin:"0 0 8px 0",background:"white",borderRadius:5,transition:"opacity 0.3s",overflow:"hidden","&:hover, &:focus":{boxShadow:"0 1px 3px rgba(100, 100, 100, 0.3)"},"&>p":{margin:0}},draggingCard:{opacity:.7,boxShadow:"0 1px 3px rgba(100, 100, 100, 0.3)"},columnContainer:{transition:"opacity 0.6s"},draggingColumn:{opacity:.7}}})),xt=function(e){var t=e.tabInfo,n=t.index,r=t.tab,o=Object(s.c)(),c=Dt(),u=Object(s.d)(Be.boards.getColumnsInTabs)[n],d=a.useState(!1),m=l()(d,2),f=m[0],p=m[1];return a.createElement(i.a,{style:{width:"100vw",overflowX:"auto",height:"100%"}},a.createElement(Ct.a,{onDragEnd:function(e){e.destination&&("card"===e.type?o(function(e){var t=l()(e,4),n=t[0],r=t[1],a=t[2],o=t[3];return n===r?de({colID:n,srcIndex:a,dstIndex:o}):se({srcColID:n,dstColID:r,srcIndex:a,dstIndex:o})}([e.source.droppableId,e.destination.droppableId,e.source.index,e.destination.index])):"column"===e.type&&o(he([e.source.index,e.destination.index,n])))}},a.createElement(Ct.c,{droppableId:"default",style:{flexGrow:1,height:"100%"},direction:"horizontal",type:"column"},(function(e,t){return a.createElement(a.Fragment,null,a.createElement("div",{className:c.root,ref:e.innerRef},u.map((function(e,t){return a.createElement(kt,{col:e,styles:c,key:e.id,index:t})})),a.createElement(Tt,{styles:c,add:function(){return p(!0)},hide:t.isDraggingOver||t.draggingFromThisWith})),e.placeholder)}))),f&&a.createElement(yt,{open:!0,respond:function(e){return p(!1)||"string"===typeof e&&e.length&&o(ge({tabID:r.id,name:e}))},title:"Add column",label:"Name"}))},kt=function(e){var t=e.styles,n=e.col,r=e.index,o=n.id,c=n.items,i=(n.name,a.useState(!1)),u=l()(i,2),d=u[0],m=u[1],f=a.useState(""),p=l()(f,2),b=p[0],g=p[1],y=Object(s.c)(),E=function(){b.length&&y(me({content:b,colID:o})),g(""),m(!1)},h=function(){d&&g(""),m(!d)},v=function(){console.log("pressed menu button")},O=a.createElement(Ct.c,{droppableId:o,style:{flexGrow:1,height:"100%"},type:"card",ignoreContainerClipping:!0},(function(e,n){return a.createElement(a.Fragment,null,a.createElement("div",{style:{width:300,overflowY:"auto",overflowX:"hidden",height:n.isDraggingOver?"calc(100% - 120px)":"calc(100% - 20px)",paddingBottom:n.isDraggingOver?100:0},ref:e.innerRef},d&&a.createElement(Pt,{value:b,setValue:g,add:E,cancel:function(){g(""),m(!1)}}),c.map((function(e,n){return a.createElement(It,{card:e,styles:t,index:n,key:e.id})}))),e.placeholder)}));return a.createElement(Ct.b,{draggableId:o,index:r},(function(e,r){return a.createElement("div",j()({ref:e.innerRef},e.draggableProps,{className:t.columnContainer+(r.isDragging?" "+t.draggingColumn:""),style:e.draggableProps.style}),a.createElement("div",{className:t.column},a.createElement("div",e.dragHandleProps,a.createElement(St,{styles:t,col:n,add:h,menu:v})),O))}))},Pt=function(e){var t=e.value,n=e.setValue,r=e.add,o=e.cancel;return a.createElement("div",null,a.createElement(re.a,{label:"New Card",multiline:!0,rowsMax:6,value:t,onChange:function(e){return n(e.target.value)},variant:"filled",style:{width:"100%"}}),a.createElement(ht.a,{variant:"contained",size:"small",style:{marginBottom:8,boxShadow:"0px 4px 2px -2px rgba(0,0,0,0.15)",width:"100%"}},a.createElement(D.a,{style:{flexGrow:1},variant:"contained",onClick:r},"Done"),a.createElement(D.a,{onClick:o},a.createElement(jt.a,{style:{color:"#555"}}))))},St=function(e){var t=e.styles,n=e.col,r=e.add,o=(e.menu,Object(s.c)()),c=a.useState(!1),i=l()(c,2),u=i[0],d=i[1],m=a.useState(!1),f=l()(m,2),b=f[0],y=f[1];return a.createElement("div",null,a.createElement("div",{className:t.columnHeaderContainer},a.createElement("div",{className:t.columnHeaderText},n.name),a.createElement("div",null,a.createElement(Ue.a,{size:"small",label:"0/6"}),a.createElement(Ue.a,{size:"small",label:"3h"}),a.createElement(p.a,{size:"small",onClick:function(){return r()}},a.createElement(Ot.a,null)),a.createElement(h,{map:{"Archive all":function(){return o(ve(n.id))},Rename:function(){return y(!0)},Delete:function(){return d(!0)}}},a.createElement(p.a,{size:"small"},a.createElement(g.a,null))))),a.createElement("hr",{className:t.columnHeaderRule}),u&&a.createElement(gt,{open:!0,respond:function(e){return d(!1)||e&&o(ye(n.id))},title:"Delete this column?",subtitle:"Don't worry, this action can be undone."}),b&&a.createElement(yt,{open:!0,respond:function(e){return y(!1)||"string"===typeof e&&e.length&&o(Ee({colID:n.id,name:e}))},title:'Rename column "'+n.name+'"',subtitle:"Don't worry, this action can be undone.",label:"Name",placeholder:n.name}))},It=function(e){var t=e.card,n=e.styles,r=e.index,o=t.id,c=t.content,i=(Object(s.c)(),a.useState(!1)),u=l()(i,2),d=u[0],m=u[1];return a.createElement(a.Fragment,null,a.createElement(Ct.b,{draggableId:o,index:r},(function(e,r){return a.createElement("div",j()({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:n.card+(r.isDragging?" "+n.draggingCard:""),style:e.draggableProps.style,onClick:function(){return m(!0)}}),a.createElement(Ke.a,{source:c}),a.createElement(Xe,{card:t}),a.createElement(at,{card:t}),a.createElement(ft,{card:t}))})),d&&a.createElement(Et,{respond:function(){return m(!1)},card:t}))},Tt=function(e){var t=e.styles,n=e.add,r=e.hide;return a.createElement("div",{className:t.column,style:{width:300,display:"flex",justifyContent:"center",alignItems:"center",height:"100px",marginLeft:r?342:8}},a.createElement(p.a,{onClick:n},a.createElement(Ot.a,null)))},Mt=function(){var e=Object(s.c)(),t=a.useState(0),n=l()(t,2),r=n[0],o=n[1],c=a.useState(!1),i=l()(c,2),u=i[0],d=i[1],m=a.useState(!1),f=l()(m,2),p=f[0],b=f[1],g=a.useState(!1),y=l()(g,2),E=y[0],h=y[1],v=Object(s.d)(Be.boards.tabs);return a.createElement(a.Fragment,null,a.createElement(O,{tabs:v.map((function(e){return e.name})),render:function(e){return a.createElement(xt,{tabInfo:{tab:v[e],index:e}})},addTab:function(){return b(!0)},renameTab:function(){return h(!0)},deleteTab:function(){return v.length>1?d(!0):alert("Cannot delete only tab")},moveTab:function(t){return e(Ce(t))},children:a.createElement(X,null),index:r,setIndex:o}),u&&a.createElement(gt,{open:!0,respond:function(t){return d(!1)||t&&(e(we(r)),o(Math.max(0,r-1)))},title:"Delete this tab?",subtitle:"Don't worry, this action can be undone."}),p&&a.createElement(yt,{open:!0,respond:function(t){return b(!1)||"string"===typeof t&&t.length&&e(Oe(t))},title:"Add tab",label:"Name"}),E&&a.createElement(yt,{open:!0,respond:function(t){return h(!1)||"string"===typeof t&&t.length&&e(je({tabID:v[r].id,name:t}))},title:"Rename tab "+v[r].name,label:"Name"}))},Rt=function(){var e=o.a.useState(0),t=l()(e,2),n=t[0],r=t[1],a="web"===u.a.OS?{height:"calc(100% - 48px)"}:{flexGrow:1};return o.a.createElement(s.a,{store:ze},o.a.createElement(i.a,{style:{top:0,left:0,height:"100%",width:"100%",display:"flex",flexDirection:"column"}},o.a.createElement(i.a,{style:a},0===n&&o.a.createElement(Mt,null)),o.a.createElement(H,{active:n,setActive:r})))};Object(r.a)((function(e){return o.a.createElement(Rt,{style:{top:0,left:0,height:"100%",width:"100%"}})}))}},[[205,1,2]]]);
//# sourceMappingURL=app.67d35072.chunk.js.map